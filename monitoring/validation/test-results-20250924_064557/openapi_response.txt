{"openapi":"3.1.0","info":{"title":"aclue API","description":"aclue API - AI-powered gift recommendation platform","version":"1.0.0"},"paths":{"/":{"get":{"summary":"Root","description":"Root endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/register":{"post":{"tags":["authentication","authentication"],"summary":"Register new user account","description":"Create a new user account using Supabase Auth with built-in validation","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegistration"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["authentication","authentication"],"summary":"Login user","description":"Authenticate user credentials using Supabase Auth and return JWT tokens","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["authentication","authentication"],"summary":"Get current user profile","description":"Get current user information from validated JWT token","operationId":"get_current_user_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/refresh":{"post":{"tags":["authentication","authentication"],"summary":"Refresh access token","description":"Generate new access and refresh tokens using a valid refresh token","operationId":"refresh_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["authentication","authentication"],"summary":"Logout user","description":"Sign out user from Supabase Auth and invalidate session","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/me":{"get":{"tags":["users","users"],"summary":"Get current user profile","description":"Get complete profile information for the authenticated user","operationId":"get_current_user_profile_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["users","users"],"summary":"Update current user profile","description":"Update user profile information with comprehensive field validation","operationId":"update_current_user_profile_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["users","users"],"summary":"Delete current user account","description":"Soft delete user account with GDPR compliance and data retention","operationId":"delete_current_user_account_api_v1_users_me_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/{user_id}":{"get":{"tags":["users","users"],"summary":"Get user by ID","description":"Get public user profile information by user ID.\n\nProvides limited public profile information for user discovery and\nsocial features. Respects privacy settings and only returns publicly\naccessible information suitable for gift link sharing and social features.\n\nPrivacy Features:\n    - Only public profile fields returned\n    - Respects user privacy settings\n    - No sensitive information exposed\n    - Anonymous browsing supported\n    - GDPR compliant data handling\n\nPublic Profile Fields:\n    - User ID and display name\n    - Public profile information\n    - Subscription tier (for feature access)\n    - Account creation date\n    - Public achievements or badges\n\nUse Cases:\n    - Gift link recipient information\n    - Social feature user discovery\n    - Public profile viewing\n    - User verification for shared content\n\nParameters:\n    user_id: UUID string of the user to retrieve\n    db: Database session for user lookup\n\nReturns:\n    dict: Public user profile information\n\nRaises:\n    HTTPException 400: Invalid user ID format\n    HTTPException 404: User not found or inactive\n\nExample Response:\n    {\n        \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n        \"first_name\": \"John\",\n        \"full_name\": \"John S.\",\n        \"subscription_tier\": \"premium\",\n        \"created_at\": \"2024-01-01T00:00:00Z\"\n    }","operationId":"get_user_by_id_api_v1_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me/statistics":{"get":{"tags":["users","users"],"summary":"Get current user statistics","description":"Get comprehensive user engagement statistics and analytics","operationId":"get_user_statistics_api_v1_users_me_statistics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/products/":{"get":{"tags":["products"],"summary":"Search products","description":"Search and filter products using real Amazon data.\n\nProvides flexible product search with multiple filtering options.\nIntegrates with Amazon Product Advertising API for real-time product data.\nSupports user preference tracking to avoid showing duplicate products.\n\nSearch Logic:\n    - If query provided: Free-text search across product titles and descriptions\n    - If category provided: Filter products within specific category\n    - If neither: Return trending/featured products\n    - exclude_seen: Filter out products user has already interacted with\n\nPerformance:\n    - Results cached for 5 minutes to reduce API calls\n    - Limit enforced to prevent excessive data transfer\n    - Pagination support for large result sets\n\nParameters:\n    q: Free-text search query (\"wireless headphones\")\n    category: Category filter (\"electronics\", \"books\", \"home\")\n    limit: Maximum products to return (default: 20, max: 100)\n    exclude_seen: Skip products user has already seen (requires auth)\n\nReturns:\n    List[ProductResponse]: Array of product objects with affiliate links\n\nExample:\n    GET /products/?q=wireless%20headphones&limit=10\n    GET /products/?category=electronics&exclude_seen=true","operationId":"search_products_api_v1_products__get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search query","title":"Q"},"description":"Search query"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category","title":"Category"},"description":"Filter by category"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Number of products to return","default":20,"title":"Limit"},"description":"Number of products to return"},{"name":"exclude_seen","in":"query","required":false,"schema":{"type":"boolean","description":"Exclude products already seen by user","default":false,"title":"Exclude Seen"},"description":"Exclude products already seen by user"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponse"},"title":"Response Search Products Api V1 Products  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/{product_id}":{"get":{"tags":["products"],"summary":"Get product details by ID","description":"Retrieve detailed information for a specific product.\n\nFetches comprehensive product data by product ID or Amazon ASIN.\nUsed by product detail pages, recommendation displays, and gift link\ngeneration. Includes all necessary information for purchase decisions.\n\nProduct Lookup:\n    - Searches by internal product ID first\n    - Falls back to Amazon ASIN lookup\n    - Returns 404 if product not found in catalog\n    - Includes affiliate tracking for revenue attribution\n\nData Sources:\n    - Amazon Product Advertising API for real-time data\n    - Internal product catalog for enhanced metadata\n    - User interaction history for personalization context\n\nUse Cases:\n    - Product detail page display\n    - Gift link product information\n    - Recommendation explanation (\"Why this product?\")\n    - Purchase flow product confirmation\n\nParameters:\n    product_id: Product identifier (internal ID or Amazon ASIN)\n\nReturns:\n    ProductResponse: Complete product information with affiliate links\n\nRaises:\n    HTTPException 404: Product not found in catalog\n    HTTPException 500: API error during product retrieval\n\nExample:\n    GET /products/B08GYKNCCP\n    GET /products/prod_abc123def456","operationId":"get_product_api_v1_products__product_id__get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"string","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/trending/":{"get":{"tags":["products"],"summary":"Get trending products","description":"Retrieve currently trending and popular products.\n\nReturns a curated list of products that are currently popular or trending\nbased on sales data, user engagement, and market trends. Used for homepage\nshowcases, recommendation seeding, and discovery features.\n\nTrending Algorithm:\n    - Amazon Best Sellers integration\n    - User interaction frequency analysis\n    - Seasonal and event-based trending\n    - Cross-category popularity balancing\n    - Affiliate performance optimization\n\nBusiness Value:\n    - Increases user engagement with popular products\n    - Higher conversion rates from proven performers\n    - Showcases current market trends and seasonal items\n    - Provides fallback content for new users with no preferences\n\nData Sources:\n    - Amazon Best Sellers API\n    - Internal user interaction analytics\n    - Seasonal trending algorithms\n    - Partner retailer popularity metrics\n\nPerformance:\n    - Results cached for 30 minutes for performance\n    - Trending data updated every hour\n    - Fallback to curated list if API unavailable\n\nParameters:\n    limit: Maximum number of trending products (default: 5, max: 50)\n\nReturns:\n    List[ProductResponse]: Array of trending products with affiliate links\n\nRaises:\n    HTTPException 500: API error during trending data retrieval\n\nExample:\n    GET /products/trending/?limit=10","operationId":"get_trending_products_api_v1_products_trending__get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Number of trending products to return","default":5,"title":"Limit"},"description":"Number of trending products to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponse"},"title":"Response Get Trending Products Api V1 Products Trending  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/swipes/":{"post":{"tags":["swipes"],"summary":"Record swipe interaction","description":"Record user swipe interaction for preference learning and analytics.\n\nCaptures individual swipe interactions to build user preference profiles\nand feed the AI recommendation engine. Each swipe provides valuable data\nabout user preferences, engagement patterns, and product categories.\n\nBusiness Value:\n    - Builds user preference profiles for personalized recommendations\n    - Tracks engagement patterns for UX optimization\n    - Provides data for A/B testing different swipe interfaces\n    - Enables conversion funnel analysis from swipe to purchase\n\nData Processing:\n    1. Validates user authentication and swipe data\n    2. Records swipe interaction with timestamp and session context\n    3. Updates user preference profile asynchronously\n    4. Triggers recommendation engine updates\n    5. Logs analytics event for dashboard metrics\n\nAuthentication:\n    - Requires valid JWT token in Authorization header\n    - Associates swipe with authenticated user profile\n    - Supports anonymous swipes for guest users (limited features)\n\nParameters:\n    swipe_data: SwipeRequest containing product and preference data\n    authorization: JWT token in \"Bearer <token>\" format\n\nReturns:\n    SwipeResponse: Confirmation with unique swipe ID and metadata\n\nRaises:\n    HTTPException 401: Missing or invalid authorization\n    HTTPException 400: Invalid swipe data or product ID\n    HTTPException 500: Database error during swipe recording\n\nExample:\n    POST /swipes/\n    Authorization: Bearer <jwt_token>\n    {\n        \"product_id\": \"B08GYKNCCP\",\n        \"direction\": \"like\",\n        \"session_id\": \"session_abc123\"\n    }","operationId":"record_swipe_api_v1_swipes__post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwipeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwipeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/swipes/sessions":{"get":{"tags":["swipes"],"summary":"Get user swipe sessions","description":"Retrieve user's swipe session history and analytics.\n\nReturns comprehensive session data for user engagement analysis,\nprogress tracking, and dashboard display. Used by frontend components\nto show session history, completion rates, and preference patterns.\n\nSession Analytics:\n    - Historical session data with engagement metrics\n    - Preference ratios (like/dislike rates) per session\n    - Session duration and completion analysis\n    - Time-based engagement patterns\n    - Progress tracking for recommendation accuracy\n\nBusiness Intelligence:\n    - User engagement depth and frequency\n    - Session completion rate optimization\n    - A/B testing results for different session lengths\n    - Conversion correlation from swipe patterns to purchases\n\nAuthentication:\n    - Requires valid JWT token for user identification\n    - Returns only sessions belonging to authenticated user\n    - Respects user privacy and data access controls\n\nParameters:\n    authorization: JWT token in \"Bearer <token>\" format\n\nReturns:\n    List[SwipeSessionResponse]: Array of session data with analytics\n\nRaises:\n    HTTPException 401: Missing or invalid authorization\n    HTTPException 500: Database error during session retrieval\n\nExample Response:\n    [\n        {\n            \"id\": \"session_abc123\",\n            \"user_id\": \"user_def456\",\n            \"created_at\": \"2024-01-01T10:00:00Z\",\n            \"total_swipes\": 25,\n            \"likes\": 15,\n            \"dislikes\": 10\n        }\n    ]","operationId":"get_swipe_sessions_api_v1_swipes_sessions_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SwipeSessionResponse"},"title":"Response Get Swipe Sessions Api V1 Swipes Sessions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["swipes"],"summary":"Start new swipe session","description":"Initialize a new swipe session for user engagement tracking.\n\nCreates a new session container for grouping swipe interactions\nand tracking user engagement patterns. Used by frontend when\nusers begin a new product discovery session.\n\nSession Management:\n    - Creates unique session identifier for interaction grouping\n    - Initializes session metadata and tracking parameters\n    - Sets up analytics collection for this session\n    - Establishes baseline for engagement measurement\n\nBusiness Value:\n    - Enables session-based analytics and completion rate tracking\n    - Provides context for recommendation algorithm optimization\n    - Supports A/B testing of different session configurations\n    - Creates engagement funnel data for conversion analysis\n\nSession Features:\n    - Unique session ID for tracking related interactions\n    - Timestamp tracking for session duration analysis\n    - User context for personalized session management\n    - Status tracking for session lifecycle management\n\nAuthentication:\n    - Requires valid JWT token for user association\n    - Sessions are tied to specific user accounts\n    - Anonymous sessions not supported (require login)\n\nParameters:\n    authorization: JWT token in \"Bearer <token>\" format\n\nReturns:\n    dict: Session initialization data with unique session ID\n\nRaises:\n    HTTPException 401: Missing or invalid authorization\n    HTTPException 500: Database error during session creation\n\nExample Response:\n    {\n        \"session_id\": \"session_1704067200123\",\n        \"user_id\": \"user_def456\",\n        \"started_at\": \"2024-01-01T00:00:00.123Z\",\n        \"status\": \"active\",\n        \"expected_swipes\": 20,\n        \"session_type\": \"discovery\"\n    }","operationId":"start_swipe_session_api_v1_swipes_sessions_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recommendations/":{"get":{"tags":["recommendations"],"summary":"Get personalized recommendations","description":"Get personalized recommendations using AI algorithm based on user swipe data.\n\nAlgorithm combines multiple approaches:\n1. Preference Analysis: Categories and brands user likes based on swipe history\n2. Price Optimization: Products in user's preferred price range\n3. Trending Integration: Popular products matching user preferences\n4. Confidence Scoring: Each recommendation has confidence score 0-1\n\nFor new users with no swipe data, returns trending products to bootstrap engagement.","operationId":"get_recommendations_api_v1_recommendations__get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"description":"Number of recommendations to return","default":20,"title":"Limit"},"description":"Number of recommendations to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","description":"Number of recommendations to skip","default":0,"title":"Offset"},"description":"Number of recommendations to skip"},{"name":"recommendation_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by recommendation type","title":"Recommendation Type"},"description":"Filter by recommendation type"},{"name":"occasion","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by occasion","title":"Occasion"},"description":"Filter by occasion"},{"name":"price_range","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by price range","title":"Price Range"},"description":"Filter by price range"},{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecommendationResponse"},"title":"Response Get Recommendations Api V1 Recommendations  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recommendations/interactions":{"post":{"tags":["recommendations"],"summary":"Record recommendation interaction","description":"Record user interaction with a recommendation.","operationId":"record_recommendation_interaction_api_v1_recommendations_interactions_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommendationInteractionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recommendations/analytics":{"get":{"tags":["recommendations"],"summary":"Get recommendation analytics","description":"Get recommendation analytics for the authenticated user.","operationId":"get_recommendation_analytics_api_v1_recommendations_analytics_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recommendations/refresh":{"post":{"tags":["recommendations"],"summary":"Refresh user recommendations","description":"Trigger a refresh of user recommendations.","operationId":"refresh_recommendations_api_v1_recommendations_refresh_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gift-links/":{"post":{"tags":["gift-links"],"summary":"Create a new gift link","description":"Create a new shareable gift link based on user's recommendations.","operationId":"create_gift_link_api_v1_gift_links__post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftLinkRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftLinkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["gift-links"],"summary":"Get user's gift links","description":"Get all gift links created by the authenticated user.","operationId":"get_user_gift_links_api_v1_gift_links__get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"description":"Number of gift links to return","default":20,"title":"Limit"},"description":"Number of gift links to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","description":"Number of gift links to skip","default":0,"title":"Offset"},"description":"Number of gift links to skip"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"},{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GiftLinkResponse"},"title":"Response Get User Gift Links Api V1 Gift Links  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gift-links/{link_token}":{"get":{"tags":["gift-links"],"summary":"Get gift link by token","description":"Get a specific gift link by its token (public access).","operationId":"get_gift_link_by_token_api_v1_gift_links__link_token__get","parameters":[{"name":"link_token","in":"path","required":true,"schema":{"type":"string","title":"Link Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gift-links/interactions":{"post":{"tags":["gift-links"],"summary":"Record gift link interaction","description":"Record an interaction with a gift link (public access).","operationId":"record_gift_link_interaction_api_v1_gift_links_interactions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GiftLinkInteractionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gift-links/{link_id}/analytics":{"get":{"tags":["gift-links"],"summary":"Get gift link analytics","description":"Get detailed analytics for a specific gift link.","operationId":"get_gift_link_analytics_api_v1_gift_links__link_id__analytics_get","parameters":[{"name":"link_id","in":"path","required":true,"schema":{"type":"string","title":"Link Id"}},{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gift-links/{link_id}":{"delete":{"tags":["gift-links"],"summary":"Delete gift link","description":"Delete a gift link created by the authenticated user.","operationId":"delete_gift_link_api_v1_gift_links__link_id__delete","parameters":[{"name":"link_id","in":"path","required":true,"schema":{"type":"string","title":"Link Id"}},{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/affiliate/clicks/":{"post":{"tags":["affiliate"],"summary":"Track affiliate click","description":"Track affiliate click and generate redirect URL with revenue attribution.\n\nCreates a unique tracking record for each affiliate link click to enable:\n  - Revenue attribution to specific users and campaigns\n  - Conversion rate optimization and A/B testing\n  - Performance analytics across different sources\n  - Commission tracking for financial reporting\n\nAuthentication:\n    - Optional user authentication for personalized tracking\n    - Anonymous clicks still tracked for aggregate analytics\n    - User ID associated with click for attribution\n\nProcess Flow:\n    1. Validate ASIN format and source parameter\n    2. Generate unique click tracking identifier\n    3. Create Amazon affiliate URL with proper parameters\n    4. Store click record for analytics (TODO: database implementation)\n    5. Return tracking ID and redirect URL to frontend\n\nRevenue Tracking:\n    - Click-to-conversion attribution (24-hour Amazon window)\n    - Commission calculation based on product category\n    - Multi-touch attribution for complex user journeys\n    - Campaign performance measurement\n\nParameters:\n    request: Affiliate click request with ASIN and source\n    current_user: Optional authenticated user (from JWT token)\n\nReturns:\n    AffiliateClickResponse: Click ID and affiliate redirect URL\n\nRaises:\n    HTTPException 400: Invalid ASIN format or source\n    HTTPException 500: Internal server error during tracking\n\nExample:\n    POST /affiliate/clicks/\n    {\n        \"asin\": \"B08GYKNCCP\",\n        \"source\": \"recommendation\",\n        \"campaign\": \"holiday_2024\"\n    }\n    \n    Response:\n    {\n        \"click_id\": \"click_abc123def456\",\n        \"redirect_url\": \"https://amazon.co.uk/dp/B08GYKNCCP/?tag=aclue-21&...\",\n        \"tracking_expires_at\": \"2024-01-01T23:59:59.999Z\"\n    }","operationId":"track_affiliate_click_api_v1_affiliate_clicks__post","parameters":[{"name":"authorization","in":"query","required":true,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AffiliateClickRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AffiliateClickResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/affiliate/stats/":{"get":{"tags":["affiliate"],"summary":"Get affiliate statistics","description":"Get comprehensive affiliate performance statistics and analytics.\n\nProvides detailed revenue analytics for monitoring affiliate program\nperformance, optimizing conversion rates, and tracking commission\nearnings across different campaigns and sources.\n\nAuthentication:\n    - Requires valid JWT token for access\n    - Returns user-specific or aggregate statistics\n    - Admin users get comprehensive platform-wide stats\n\nAnalytics Included:\n    - Total clicks and conversions across all campaigns\n    - Conversion rate optimization metrics\n    - Commission earnings and revenue tracking\n    - Monthly performance trends\n    - Top-performing products by revenue and conversion\n    - Source attribution (recommendations vs search vs gifts)\n\nPerformance Metrics:\n    - Click-through rates by source and campaign\n    - Average order value and commission per conversion\n    - Time-to-conversion analytics\n    - Geographic performance data\n    - Device and platform breakdowns\n\nRevenue Intelligence:\n    - Commission earnings by category and time period\n    - Seasonal trends and optimization opportunities\n    - Product performance rankings\n    - Campaign ROI and effectiveness\n\nParameters:\n    current_user: Authenticated user from JWT token dependency\n\nReturns:\n    dict: Comprehensive affiliate performance statistics\n\nExample Response:\n    {\n        \"total_clicks\": 1247,\n        \"total_conversions\": 89,\n        \"conversion_rate\": 7.14,\n        \"total_commission\": 1834.56,\n        \"this_month\": {\n            \"clicks\": 156,\n            \"conversions\": 12,\n            \"commission\": 287.34\n        },\n        \"top_products\": [\n            {\n                \"asin\": \"B08N5WRWNW\",\n                \"title\": \"Echo Dot (4th Gen)\",\n                \"clicks\": 45,\n                \"conversions\": 8,\n                \"commission\": 67.89\n            }\n        ]\n    }","operationId":"get_affiliate_stats_api_v1_affiliate_stats__get","parameters":[{"name":"authorization","in":"query","required":true,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/affiliate/products/{asin}/affiliate-url":{"get":{"tags":["affiliate"],"summary":"Get affiliate URL for product","description":"Generate affiliate URL for specific Amazon product with tracking.\n\nCreates commission-eligible Amazon Associates URL for any valid ASIN.\nUsed by frontend components to generate affiliate links on-demand\nwithout requiring full click tracking flow.\n\nUse Cases:\n    - Product detail pages needing affiliate links\n    - Dynamic link generation for email campaigns\n    - API integrations requiring affiliate URLs\n    - Testing and development of affiliate functionality\n\nURL Generation:\n    - Validates ASIN format (10-character alphanumeric)\n    - Adds Amazon Associates tag (aclue-21)\n    - Includes tracking parameters for attribution\n    - Generates unique click ID for basic tracking\n\nTracking Features:\n    - Basic click tracking without full analytics\n    - Source attribution for performance measurement\n    - Associate tag validation for commission eligibility\n    - Click ID generation for debugging\n\nParameters:\n    asin: Amazon Standard Identification Number (10 characters)\n    source: Attribution source (default: \"direct\")\n\nReturns:\n    dict: Affiliate URL with tracking information\n\nRaises:\n    HTTPException 400: Invalid ASIN format\n    HTTPException 500: URL generation failure\n\nExample:\n    GET /affiliate/products/B08GYKNCCP/affiliate-url?source=email\n    \n    Response:\n    {\n        \"asin\": \"B08GYKNCCP\",\n        \"affiliate_url\": \"https://amazon.co.uk/dp/B08GYKNCCP/?tag=aclue-21&...\",\n        \"click_id\": \"click_xyz789abc123\",\n        \"associate_tag\": \"aclue-21\"\n    }","operationId":"get_affiliate_url_api_v1_affiliate_products__asin__affiliate_url_get","parameters":[{"name":"asin","in":"path","required":true,"schema":{"type":"string","title":"Asin"}},{"name":"source","in":"query","required":false,"schema":{"type":"string","default":"direct","title":"Source"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/newsletter/signup":{"post":{"tags":["newsletter","newsletter"],"summary":"Newsletter Signup","description":"Handle newsletter signup with database storage and email notifications.\n\nThis endpoint:\n1. Validates email format\n2. Checks for existing subscription\n3. Stores signup in database\n4. Sends welcome email to subscriber\n5. Sends admin notification to contact@aclue.app\n\nRate limiting: 5 requests per minute per IP address to prevent abuse.\n\nArgs:\n    request: HTTP request object for IP address extraction\n    newsletter_request: Newsletter signup request containing email and source\n    background_tasks: FastAPI background tasks for email sending\n\nReturns:\n    NewsletterSignupResponse with success status and message\n\nRaises:\n    HTTPException: 429 if rate limit exceeded\n    HTTPException: 500 if database operation fails","operationId":"newsletter_signup_api_v1_newsletter_signup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsletterSignupRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewsletterSignupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/newsletter/subscribers":{"get":{"tags":["newsletter","newsletter"],"summary":"Get Newsletter Subscribers","description":"Get list of newsletter subscribers (admin endpoint).\n\nArgs:\n    limit: Maximum number of subscribers to return\n    offset: Number of subscribers to skip\n    active_only: Whether to only return active subscribers\n\nReturns:\n    List of newsletter subscribers","operationId":"get_newsletter_subscribers_api_v1_newsletter_subscribers_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Active Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NewsletterSubscriberResponse"},"title":"Response Get Newsletter Subscribers Api V1 Newsletter Subscribers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/newsletter/unsubscribe/{email}":{"delete":{"tags":["newsletter","newsletter"],"summary":"Unsubscribe Newsletter","description":"Unsubscribe email from newsletter.\n\nArgs:\n    email: Email address to unsubscribe\n\nReturns:\n    Success message","operationId":"unsubscribe_newsletter_api_v1_newsletter_unsubscribe__email__delete","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string","format":"email","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AffiliateClickRequest":{"properties":{"asin":{"type":"string","title":"Asin"},"source":{"type":"string","title":"Source","default":"recommendation"},"campaign":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Campaign"}},"type":"object","required":["asin"],"title":"AffiliateClickRequest","description":"Request model for tracking affiliate clicks with campaign attribution.\n\nUsed when users click on affiliate links to track the source and campaign\nfor revenue attribution and conversion optimization.\n\nFields:\n    asin: Amazon Standard Identification Number (10-character product ID)\n    source: Click source for attribution tracking\n    campaign: Optional campaign identifier for A/B testing\n\nSource Options:\n    - \"recommendation\": From AI recommendation engine\n    - \"gift_link\": From shared gift links\n    - \"search\": From product search results\n    - \"browse\": From category browsing\n    - \"featured\": From featured products\n\nExample:\n    {\n        \"asin\": \"B08GYKNCCP\",\n        \"source\": \"recommendation\",\n        \"campaign\": \"christmas_2024\"\n    }"},"AffiliateClickResponse":{"properties":{"click_id":{"type":"string","title":"Click Id"},"redirect_url":{"type":"string","title":"Redirect Url"},"tracking_expires_at":{"type":"string","title":"Tracking Expires At"}},"type":"object","required":["click_id","redirect_url","tracking_expires_at"],"title":"AffiliateClickResponse","description":"Response model for affiliate click tracking with redirect information.\n\nReturns the unique tracking identifier and affiliate URL for revenue\nattribution. Used by frontend to redirect users to Amazon with proper\ntracking parameters.\n\nFields:\n    click_id: Unique identifier for this click event\n    redirect_url: Amazon affiliate URL with tracking parameters\n    tracking_expires_at: ISO timestamp when tracking attribution expires\n\nTracking Window:\n    - Amazon Associates: 24-hour attribution window\n    - aclue internal: 30-day tracking for analytics\n\nExample:\n    {\n        \"click_id\": \"click_abc123def456\",\n        \"redirect_url\": \"https://amazon.co.uk/dp/B08GYKNCCP/?tag=aclue-21&...\",\n        \"tracking_expires_at\": \"2024-01-01T23:59:59.999Z\"\n    }"},"AuthResponse":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"JWT access token"},"refresh_token":{"type":"string","title":"Refresh Token","description":"JWT refresh token"},"user":{"allOf":[{"$ref":"#/components/schemas/UserResponse"}],"description":"User profile data"}},"type":"object","required":["access_token","refresh_token","user"],"title":"AuthResponse","description":"Authentication response model.\n\nContains JWT tokens and user profile data returned after\nsuccessful login or registration.\n\nFields:\n    access_token: JWT access token (30 minute expiry)\n    refresh_token: JWT refresh token (30 day expiry)\n    user: Complete user profile data"},"GiftLinkInteractionRequest":{"properties":{"link_token":{"type":"string","title":"Link Token"},"interaction_type":{"type":"string","title":"Interaction Type"},"product_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Id"}},"type":"object","required":["link_token","interaction_type"],"title":"GiftLinkInteractionRequest"},"GiftLinkRequest":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"product_ids":{"items":{"type":"string"},"type":"array","title":"Product Ids"},"expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expires At"},"is_public":{"type":"boolean","title":"Is Public","default":true}},"type":"object","required":["title","product_ids"],"title":"GiftLinkRequest"},"GiftLinkResponse":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"link_token":{"type":"string","title":"Link Token"},"share_url":{"type":"string","title":"Share Url"},"user_id":{"type":"string","title":"User Id"},"products":{"items":{"$ref":"#/components/schemas/ProductInGiftLink"},"type":"array","title":"Products"},"product_count":{"type":"integer","title":"Product Count"},"view_count":{"type":"integer","title":"View Count"},"click_count":{"type":"integer","title":"Click Count"},"is_public":{"type":"boolean","title":"Is Public"},"expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expires At"},"created_at":{"type":"string","title":"Created At"},"last_accessed":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Accessed"}},"type":"object","required":["id","title","link_token","share_url","user_id","products","product_count","view_count","click_count","is_public","created_at"],"title":"GiftLinkResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"NewsletterSignupRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address for newsletter signup"},"source":{"type":"string","title":"Source","description":"Source of the signup","default":"maintenance_page"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent","description":"User agent string"}},"type":"object","required":["email"],"title":"NewsletterSignupRequest","description":"Request model for newsletter signup"},"NewsletterSignupResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether signup was successful"},"message":{"type":"string","title":"Message","description":"Response message"},"already_subscribed":{"type":"boolean","title":"Already Subscribed","description":"Whether email was already subscribed","default":false}},"type":"object","required":["success","message"],"title":"NewsletterSignupResponse","description":"Response model for newsletter signup"},"NewsletterSubscriberResponse":{"properties":{"id":{"type":"string","title":"Id"},"email":{"type":"string","title":"Email"},"source":{"type":"string","title":"Source"},"signup_timestamp":{"type":"string","format":"date-time","title":"Signup Timestamp"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","email","source","signup_timestamp","is_active","created_at"],"title":"NewsletterSubscriberResponse","description":"Response model for newsletter subscriber info"},"ProductData":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"price":{"type":"number","title":"Price"},"price_min":{"type":"number","title":"Price Min"},"price_max":{"type":"number","title":"Price Max"},"currency":{"type":"string","title":"Currency"},"brand":{"type":"string","title":"Brand"},"category":{"type":"string","title":"Category"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"affiliate_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Affiliate Url"}},"type":"object","required":["id","title","description","price","price_min","price_max","currency","brand","category"],"title":"ProductData"},"ProductInGiftLink":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"price":{"type":"number","title":"Price"},"currency":{"type":"string","title":"Currency"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"}},"type":"object","required":["id","title","price","currency"],"title":"ProductInGiftLink"},"ProductResponse":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"price":{"type":"number","title":"Price"},"currency":{"type":"string","title":"Currency"},"category":{"type":"string","title":"Category"},"brand":{"type":"string","title":"Brand"},"retailer":{"type":"string","title":"Retailer"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"affiliate_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Affiliate Url"},"asin":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Asin"},"rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Rating"},"review_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Review Count"},"features":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Features"}},"type":"object","required":["id","title","description","price","currency","category","brand","retailer"],"title":"ProductResponse","description":"Standardised product response model for API endpoints.\n\nProvides consistent product data format across all product endpoints.\nIncludes all necessary information for swipe interface, recommendations,\nand user purchase decisions.\n\nRevenue Integration:\n    - affiliate_url: Generated with aclue tracking parameters\n    - asin: Amazon identifier for affiliate commission tracking\n    - retailer: Partner network identifier\n\nML Features:\n    - rating/review_count: Social proof signals for recommendations\n    - features: Structured attributes for similarity matching\n    - category: Used for preference-based filtering\n\nFields:\n    id: Unique product identifier (UUID or external ID)\n    title: Product name/title for display\n    description: Detailed product description\n    price: Current price in pounds (float, e.g., 59.99)\n    currency: ISO currency code (GBP, USD, EUR)\n    category: Product category for filtering\n    brand: Brand/manufacturer name\n    retailer: Partner retailer (\"amazon\", \"ebay\")\n    image_url: Primary product image URL\n    affiliate_url: Purchase link with affiliate tracking\n    asin: Amazon Standard Identification Number\n    rating: Average user rating (1.0-5.0)\n    review_count: Total number of reviews\n    features: List of key product features"},"RecommendationInteractionRequest":{"properties":{"recommendation_id":{"type":"string","title":"Recommendation Id"},"interaction_type":{"type":"string","title":"Interaction Type"}},"type":"object","required":["recommendation_id","interaction_type"],"title":"RecommendationInteractionRequest"},"RecommendationResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"product_id":{"type":"string","title":"Product Id"},"product":{"$ref":"#/components/schemas/ProductData"},"recommendation_type":{"type":"string","title":"Recommendation Type"},"confidence_score":{"type":"number","title":"Confidence Score"},"reason":{"type":"string","title":"Reason"},"occasion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Occasion"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","user_id","product_id","product","recommendation_type","confidence_score","reason","created_at"],"title":"RecommendationResponse"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","minLength":1,"title":"Refresh Token","description":"Valid refresh token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Refresh token request model.\n\nContains the refresh token needed to generate new access tokens.\n\nFields:\n    refresh_token: Valid refresh token string"},"SwipeRequest":{"properties":{"product_id":{"type":"string","title":"Product Id"},"direction":{"type":"string","title":"Direction"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["product_id","direction"],"title":"SwipeRequest","description":"Swipe interaction request model for recording user preferences.\n\nUsed when users swipe on products to indicate their preference.\nCaptures the essential data needed for preference learning and\nrecommendation optimization.\n\nFields:\n    product_id: Amazon ASIN or internal product identifier\n    direction: Swipe direction ('like', 'dislike', 'super_like')\n    session_id: Optional session identifier for analytics grouping\n\nValidation:\n    - product_id must be valid ASIN format or internal ID\n    - direction must be one of allowed values\n    - session_id optional for anonymous or session-less swipes\n\nExample:\n    {\n        \"product_id\": \"B08GYKNCCP\",\n        \"direction\": \"like\",\n        \"session_id\": \"session_abc123\"\n    }"},"SwipeResponse":{"properties":{"id":{"type":"string","title":"Id"},"product_id":{"type":"string","title":"Product Id"},"direction":{"type":"string","title":"Direction"},"timestamp":{"type":"string","title":"Timestamp"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["id","product_id","direction","timestamp"],"title":"SwipeResponse","description":"Swipe interaction response model confirming recorded preference.\n\nReturns confirmation data after successfully recording a swipe\ninteraction. Used by frontend to confirm the action was processed\nand for local state management.\n\nFields:\n    id: Unique identifier for this swipe record\n    product_id: Product that was swiped on\n    direction: Direction of the swipe interaction\n    timestamp: ISO timestamp when swipe was recorded\n    session_id: Session identifier if part of session\n\nExample:\n    {\n        \"id\": \"swipe_1704067200123\",\n        \"product_id\": \"B08GYKNCCP\",\n        \"direction\": \"like\",\n        \"timestamp\": \"2024-01-01T00:00:00.123Z\",\n        \"session_id\": \"session_abc123\"\n    }"},"SwipeSessionResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"created_at":{"type":"string","title":"Created At"},"total_swipes":{"type":"integer","title":"Total Swipes"},"likes":{"type":"integer","title":"Likes"},"dislikes":{"type":"integer","title":"Dislikes"}},"type":"object","required":["id","user_id","created_at","total_swipes","likes","dislikes"],"title":"SwipeSessionResponse","description":"Swipe session analytics response model.\n\nProvides comprehensive session statistics for user engagement\nanalysis and frontend dashboard display. Used for showing\nuser progress and session completion metrics.\n\nFields:\n    id: Unique session identifier\n    user_id: User who owns this session\n    created_at: Session start timestamp\n    total_swipes: Total number of swipes in session\n    likes: Number of positive swipes (likes)\n    dislikes: Number of negative swipes (dislikes)\n\nAnalytics Use:\n    - Session completion rates\n    - User engagement depth\n    - Preference ratio analysis\n    - Time-based engagement patterns\n\nExample:\n    {\n        \"id\": \"session_abc123\",\n        \"user_id\": \"user_def456\",\n        \"created_at\": \"2024-01-01T00:00:00Z\",\n        \"total_swipes\": 25,\n        \"likes\": 15,\n        \"dislikes\": 10\n    }"},"UserLogin":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"User's registered email address"},"password":{"type":"string","minLength":1,"title":"Password","description":"User's password"}},"type":"object","required":["email","password"],"title":"UserLogin","description":"User login request model.\n\nValidates user authentication credentials for login endpoint.\n\nFields:\n    email: User's registered email address\n    password: User's password in plain text (encrypted in transit)"},"UserRegistration":{"properties":{"first_name":{"type":"string","maxLength":50,"minLength":2,"title":"First Name","description":"User's first name"},"last_name":{"type":"string","maxLength":50,"minLength":2,"title":"Last Name","description":"User's last name"},"email":{"type":"string","format":"email","title":"Email","description":"Valid email address"},"password":{"type":"string","minLength":8,"title":"Password","description":"Password (minimum 8 characters)"},"marketing_consent":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Marketing Consent","description":"Marketing email consent","default":false}},"type":"object","required":["first_name","last_name","email","password"],"title":"UserRegistration","description":"User registration request model.\n\nValidates new user registration data with required fields\nand optional marketing consent for GDPR compliance.\n\nFields:\n    first_name: User's first name (required, 2-50 characters)\n    last_name: User's last name (required, 2-50 characters)\n    email: Valid email address (required, unique)\n    password: User password (required, min 8 characters)\n    marketing_consent: Optional marketing email consent (GDPR)"},"UserResponse":{"properties":{"id":{"type":"string","title":"Id"},"email":{"type":"string","title":"Email"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"subscription_tier":{"type":"string","title":"Subscription Tier"},"created_at":{"type":"string","title":"Created At"},"last_login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Login"}},"type":"object","required":["id","email","first_name","last_name","subscription_tier","created_at"],"title":"UserResponse","description":"User profile response model.\n\nContains safe user data for API responses (excludes sensitive fields\nlike password hash).\n\nFields:\n    id: Unique user identifier (UUID)\n    email: User's email address\n    first_name: User's first name\n    last_name: User's last name\n    subscription_tier: User's subscription level\n    created_at: Account creation timestamp (ISO format)\n    last_login: Most recent login timestamp (ISO format)"},"UserStatsResponse":{"properties":{"user_id":{"type":"string","title":"User Id","description":"User identifier"},"swipe_stats":{"type":"object","title":"Swipe Stats","description":"Swipe interaction analytics"},"recommendation_stats":{"type":"object","title":"Recommendation Stats","description":"AI recommendation performance"},"gift_link_stats":{"type":"object","title":"Gift Link Stats","description":"Social sharing analytics"},"engagement_stats":{"type":"object","title":"Engagement Stats","description":"Overall platform engagement"},"preference_insights":{"type":"object","title":"Preference Insights","description":"Personalisation intelligence"},"achievements":{"items":{"type":"object"},"type":"array","title":"Achievements","description":"Gamification milestones"},"last_updated":{"type":"string","title":"Last Updated","description":"Statistics calculation timestamp"},"cache_duration_minutes":{"type":"integer","title":"Cache Duration Minutes","description":"Recommended cache duration"}},"type":"object","required":["user_id","swipe_stats","recommendation_stats","gift_link_stats","engagement_stats","preference_insights","achievements","last_updated","cache_duration_minutes"],"title":"UserStatsResponse","description":"User statistics response model.\n\nContains comprehensive user analytics and engagement metrics."},"UserUpdateRequest":{"properties":{"first_name":{"anyOf":[{"type":"string","maxLength":50,"minLength":2},{"type":"null"}],"title":"First Name","description":"User's first name"},"last_name":{"anyOf":[{"type":"string","maxLength":50,"minLength":2},{"type":"null"}],"title":"Last Name","description":"User's last name"},"phone_number":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Phone Number","description":"Contact phone number"},"date_of_birth":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date Of Birth","description":"Date of birth for personalisation"},"gender":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Gender","description":"Gender preference"},"location":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Location","description":"Geographic location"},"preferences":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Preferences","description":"User preference settings"},"notification_settings":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Notification Settings","description":"Communication preferences"}},"type":"object","title":"UserUpdateRequest","description":"User profile update request model.\n\nValidates user profile update data with appropriate field restrictions\nand validation rules."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}
