# Aclue Backend Test Environment Configuration
# 
# Test environment variables for CI/CD and local testing.
# Copy this file to .env.test and configure for your test environment.

# Application Configuration
ENVIRONMENT=test
DEBUG=true
LOG_LEVEL=DEBUG

# Database Configuration
DATABASE_URL=postgresql://testuser:testpassword@localhost:5432/aclue_test
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# Supabase Configuration (Test Instance)
SUPABASE_URL=http://localhost:54321
SUPABASE_ANON_KEY=test_anon_key_for_testing
SUPABASE_SERVICE_ROLE_KEY=test_service_role_key_for_testing

# Security Configuration
SECRET_KEY=test_secret_key_change_in_production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API Configuration
API_V1_STR=/api/v1
CORS_ORIGINS=["http://localhost:3000", "http://localhost:3001", "https://aclue.app"]
ALLOWED_HOSTS=["localhost", "127.0.0.1", "0.0.0.0"]

# Redis Configuration (for caching and rate limiting)
REDIS_URL=redis://localhost:6379/0
REDIS_TTL=3600

# Email Configuration (Test/Mock)
EMAIL_ENABLED=false
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=test@aclue.app
SMTP_PASSWORD=testpassword
SMTP_TLS=false

# External API Keys (Test/Mock)
OPENAI_API_KEY=test_openai_key
POSTHOG_API_KEY=test_posthog_key

# File Storage (Test)
UPLOAD_MAX_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=["jpg", "jpeg", "png", "gif", "webp"]

# Rate Limiting (Test - More Permissive)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_PERIOD=3600

# Feature Flags (Test)
ENABLE_ANALYTICS=false
ENABLE_CACHING=false
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_PUSH_NOTIFICATIONS=false

# Monitoring and Observability (Test)
SENTRY_DSN=""
DATADOG_API_KEY=""
PROMETHEUS_ENABLED=false

# Testing Configuration
PYTEST_TIMEOUT=30
PYTEST_MAXFAIL=10
COVERAGE_THRESHOLD=80