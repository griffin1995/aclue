{"version":3,"sources":["/home/jack/Documents/aclue-preprod/web/src/hooks/__tests__/useAccessibility.test.ts"],"sourcesContent":["import { renderHook, act } from '@testing-library/react';\nimport { useAccessibility } from '../useAccessibility';\n\n// Mock matchMedia\nconst mockMatchMedia = jest.fn();\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: mockMatchMedia,\n});\n\n// Mock scrollIntoView\nconst mockScrollIntoView = jest.fn();\nElement.prototype.scrollIntoView = mockScrollIntoView;\n\ndescribe('useAccessibility', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    document.body.innerHTML = '';\n    \n    // Reset matchMedia mock\n    mockMatchMedia.mockImplementation((query) => ({\n      matches: false,\n      media: query,\n      onchange: null,\n      addEventListener: jest.fn(),\n      removeEventListener: jest.fn(),\n      addListener: jest.fn(),\n      removeListener: jest.fn(),\n      dispatchEvent: jest.fn(),\n    }));\n  });\n\n  describe('Reduced Motion Detection', () => {\n    it('detects reduced motion preference', () => {\n      mockMatchMedia.mockImplementation((query) => ({\n        matches: query === '(prefers-reduced-motion: reduce)',\n        media: query,\n        addEventListener: jest.fn(),\n        removeEventListener: jest.fn(),\n        onchange: null,\n        addListener: jest.fn(),\n        removeListener: jest.fn(),\n        dispatchEvent: jest.fn(),\n      }));\n\n      const { result } = renderHook(() => useAccessibility({ reducedMotion: true }));\n\n      expect(result.current.isReducedMotion).toBe(true);\n    });\n\n    it('defaults to no reduced motion when preference is not set', () => {\n      const { result } = renderHook(() => useAccessibility({ reducedMotion: true }));\n\n      expect(result.current.isReducedMotion).toBe(false);\n    });\n\n    it('updates when system preference changes', () => {\n      const mockAddEventListener = jest.fn();\n      const mockRemoveEventListener = jest.fn();\n\n      mockMatchMedia.mockImplementation(() => ({\n        matches: false,\n        media: '(prefers-reduced-motion: reduce)',\n        addEventListener: mockAddEventListener,\n        removeEventListener: mockRemoveEventListener,\n        onchange: null,\n        addListener: jest.fn(),\n        removeListener: jest.fn(),\n        dispatchEvent: jest.fn(),\n      }));\n\n      const { unmount } = renderHook(() => useAccessibility({ reducedMotion: true }));\n\n      expect(mockAddEventListener).toHaveBeenCalledWith('change', expect.any(Function));\n\n      unmount();\n\n      expect(mockRemoveEventListener).toHaveBeenCalledWith('change', expect.any(Function));\n    });\n  });\n\n  describe('Screen Reader Announcements', () => {\n    it('creates announcement element with correct attributes', () => {\n      const { result } = renderHook(() => useAccessibility());\n\n      act(() => {\n        result.current.announceToScreenReader('Test announcement');\n      });\n\n      const announcement = document.querySelector('[aria-live=\"polite\"]');\n      expect(announcement).toBeInTheDocument();\n      expect(announcement).toHaveAttribute('aria-atomic', 'true');\n      expect(announcement).toHaveClass('sr-only');\n      expect(announcement).toHaveTextContent('Test announcement');\n    });\n\n    it('removes announcement element after timeout', async () => {\n      jest.useFakeTimers();\n      const { result } = renderHook(() => useAccessibility());\n\n      act(() => {\n        result.current.announceToScreenReader('Test announcement');\n      });\n\n      expect(document.querySelector('[aria-live=\"polite\"]')).toBeInTheDocument();\n\n      act(() => {\n        jest.advanceTimersByTime(1000);\n      });\n\n      expect(document.querySelector('[aria-live=\"polite\"]')).not.toBeInTheDocument();\n\n      jest.useRealTimers();\n    });\n  });\n\n  describe('Focus Management', () => {\n    it('focuses on element by selector', () => {\n      const button = document.createElement('button');\n      button.id = 'test-button';\n      const mockFocus = jest.fn();\n      button.focus = mockFocus;\n      document.body.appendChild(button);\n\n      const { result } = renderHook(() => useAccessibility());\n\n      act(() => {\n        result.current.focusOnElement('#test-button');\n      });\n\n      expect(mockFocus).toHaveBeenCalled();\n      expect(mockScrollIntoView).toHaveBeenCalledWith({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    });\n\n    it('uses auto scroll behavior when reduced motion is enabled', () => {\n      mockMatchMedia.mockImplementation((query) => ({\n        matches: query === '(prefers-reduced-motion: reduce)',\n        media: query,\n        addEventListener: jest.fn(),\n        removeEventListener: jest.fn(),\n        onchange: null,\n        addListener: jest.fn(),\n        removeListener: jest.fn(),\n        dispatchEvent: jest.fn(),\n      }));\n\n      const button = document.createElement('button');\n      button.id = 'test-button';\n      const mockFocus = jest.fn();\n      button.focus = mockFocus;\n      document.body.appendChild(button);\n\n      const { result } = renderHook(() => useAccessibility({ reducedMotion: true }));\n\n      act(() => {\n        result.current.focusOnElement('#test-button');\n      });\n\n      expect(mockScrollIntoView).toHaveBeenCalledWith({\n        behavior: 'auto',\n        block: 'center',\n      });\n    });\n\n    it('handles missing elements gracefully', () => {\n      const { result } = renderHook(() => useAccessibility());\n\n      expect(() => {\n        act(() => {\n          result.current.focusOnElement('#non-existent');\n        });\n      }).not.toThrow();\n    });\n  });\n\n  describe('Focus Trapping', () => {\n    it('traps focus within container', () => {\n      const container = document.createElement('div');\n      const button1 = document.createElement('button');\n      const button2 = document.createElement('button');\n      const button3 = document.createElement('button');\n\n      button1.textContent = 'Button 1';\n      button2.textContent = 'Button 2';\n      button3.textContent = 'Button 3';\n\n      container.appendChild(button1);\n      container.appendChild(button2);\n      container.appendChild(button3);\n      document.body.appendChild(container);\n\n      const mockFocus1 = jest.fn();\n      const mockFocus2 = jest.fn();\n      const mockFocus3 = jest.fn();\n\n      button1.focus = mockFocus1;\n      button2.focus = mockFocus2;\n      button3.focus = mockFocus3;\n\n      const { result } = renderHook(() => useAccessibility());\n\n      let cleanup: (() => void) | undefined;\n\n      act(() => {\n        cleanup = result.current.trapFocus(container);\n      });\n\n      expect(mockFocus1).toHaveBeenCalled();\n\n      // Simulate Tab key on last element\n      Object.defineProperty(document, 'activeElement', {\n        value: button3,\n        writable: true,\n      });\n\n      const tabEvent = new KeyboardEvent('keydown', { key: 'Tab' });\n      document.dispatchEvent(tabEvent);\n\n      // Should wrap to first element\n      expect(mockFocus1).toHaveBeenCalledTimes(2);\n\n      // Cleanup\n      if (cleanup) {\n        cleanup();\n      }\n    });\n\n    it('handles Escape key to close modal', () => {\n      const container = document.createElement('div');\n      const closeButton = document.createElement('button');\n      closeButton.setAttribute('data-close', '');\n      const mockClick = jest.fn();\n      closeButton.click = mockClick;\n      container.appendChild(closeButton);\n      document.body.appendChild(container);\n\n      const { result } = renderHook(() => useAccessibility());\n\n      let cleanup: (() => void) | undefined;\n\n      act(() => {\n        cleanup = result.current.trapFocus(container);\n      });\n\n      const escapeEvent = new KeyboardEvent('keydown', { key: 'Escape' });\n      document.dispatchEvent(escapeEvent);\n\n      expect(mockClick).toHaveBeenCalled();\n\n      if (cleanup) {\n        cleanup();\n      }\n    });\n  });\n\n  describe('Skip Links', () => {\n    it('returns correct skip links', () => {\n      const { result } = renderHook(() => useAccessibility());\n\n      const skipLinks = result.current.getSkipLinks();\n\n      expect(skipLinks).toEqual([\n        { href: '#main-content', label: 'Skip to main content' },\n        { href: '#navigation', label: 'Skip to navigation' },\n        { href: '#footer', label: 'Skip to footer' },\n      ]);\n    });\n  });\n\n  describe('Keyboard Navigation', () => {\n    it('sets up global keyboard shortcuts', () => {\n      const mockAddEventListener = jest.spyOn(document, 'addEventListener');\n      const mockRemoveEventListener = jest.spyOn(document, 'removeEventListener');\n\n      const { unmount } = renderHook(() => useAccessibility({ enableKeyboardNavigation: true }));\n\n      expect(mockAddEventListener).toHaveBeenCalledWith('keydown', expect.any(Function));\n      expect(mockAddEventListener).toHaveBeenCalledWith('mousedown', expect.any(Function));\n\n      unmount();\n\n      expect(mockRemoveEventListener).toHaveBeenCalledWith('keydown', expect.any(Function));\n      expect(mockRemoveEventListener).toHaveBeenCalledWith('mousedown', expect.any(Function));\n    });\n\n    it('adds keyboard navigation class on Tab key', () => {\n      renderHook(() => useAccessibility({ enableKeyboardNavigation: true }));\n\n      const tabEvent = new KeyboardEvent('keydown', { key: 'Tab' });\n      document.dispatchEvent(tabEvent);\n\n      expect(document.body).toHaveClass('keyboard-navigation');\n    });\n\n    it('removes keyboard navigation class on mouse use', () => {\n      renderHook(() => useAccessibility({ enableKeyboardNavigation: true }));\n\n      // First add the class\n      const tabEvent = new KeyboardEvent('keydown', { key: 'Tab' });\n      document.dispatchEvent(tabEvent);\n      expect(document.body).toHaveClass('keyboard-navigation');\n\n      // Then remove it with mouse\n      const mouseEvent = new MouseEvent('mousedown');\n      document.dispatchEvent(mouseEvent);\n      expect(document.body).not.toHaveClass('keyboard-navigation');\n    });\n  });\n\n  describe('Page Change Announcements', () => {\n    it('announces page title on load', () => {\n      jest.useFakeTimers();\n      document.title = 'Test Page';\n\n      renderHook(() => useAccessibility({ announcePageChanges: true }));\n\n      act(() => {\n        jest.advanceTimersByTime(100);\n      });\n\n      const announcement = document.querySelector('[aria-live=\"polite\"]');\n      expect(announcement).toHaveTextContent('Page loaded: Test Page');\n\n      jest.useRealTimers();\n    });\n\n    it('listens for popstate events', () => {\n      const mockAddEventListener = jest.spyOn(window, 'addEventListener');\n      const mockRemoveEventListener = jest.spyOn(window, 'removeEventListener');\n\n      const { unmount } = renderHook(() => useAccessibility({ announcePageChanges: true }));\n\n      expect(mockAddEventListener).toHaveBeenCalledWith('popstate', expect.any(Function));\n\n      unmount();\n\n      expect(mockRemoveEventListener).toHaveBeenCalledWith('popstate', expect.any(Function));\n    });\n  });\n\n  describe('Configuration Options', () => {\n    it('respects disabled options', () => {\n      const { result } = renderHook(() => useAccessibility({\n        announcePageChanges: false,\n        enableKeyboardNavigation: false,\n        reducedMotion: false,\n      }));\n\n      expect(result.current.isReducedMotion).toBe(false);\n      expect(document.addEventListener).not.toHaveBeenCalledWith('keydown', expect.any(Function));\n    });\n  });\n});"],"names":["mockMatchMedia","jest","fn","Object","defineProperty","window","writable","value","mockScrollIntoView","Element","prototype","scrollIntoView","describe","beforeEach","clearAllMocks","document","body","innerHTML","mockImplementation","query","matches","media","onchange","addEventListener","removeEventListener","addListener","removeListener","dispatchEvent","it","result","renderHook","useAccessibility","reducedMotion","expect","current","isReducedMotion","toBe","mockAddEventListener","mockRemoveEventListener","unmount","toHaveBeenCalledWith","any","Function","act","announceToScreenReader","announcement","querySelector","toBeInTheDocument","toHaveAttribute","toHaveClass","toHaveTextContent","useFakeTimers","advanceTimersByTime","not","useRealTimers","button","createElement","id","mockFocus","focus","appendChild","focusOnElement","toHaveBeenCalled","behavior","block","toThrow","container","button1","button2","button3","textContent","mockFocus1","mockFocus2","mockFocus3","cleanup","trapFocus","tabEvent","KeyboardEvent","key","toHaveBeenCalledTimes","closeButton","setAttribute","mockClick","click","escapeEvent","skipLinks","getSkipLinks","toEqual","href","label","spyOn","enableKeyboardNavigation","mouseEvent","MouseEvent","title","announcePageChanges"],"mappings":"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"}