{"version":3,"names":["PostHogTest","cov_2nj2rbch87","f","status","setStatus","s","_react","useState","logs","setLogs","addLog","message","prev","Date","toISOString","useEffect","testPostHog","_config","config","posthogKey","b","posthogHost","_analytics","analytics","init","track","test_property","timestamp","identify","email","name","error","Error","_jsxruntime","jsx","className","jsxs","join","onClick","button","process","env","NODE_ENV","isDevelopment","isProduction"],"sources":["/home/jack/Documents/aclue-preprod/web/src/pages/posthog-test.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { analytics } from '@/lib/analytics';\nimport { config } from '@/config';\n\nexport default function PostHogTest() {\n  const [status, setStatus] = useState<'loading' | 'success' | 'error'>('loading');\n  const [logs, setLogs] = useState<string[]>([]);\n\n  const addLog = (message: string) => {\n    setLogs(prev => [...prev, `${new Date().toISOString()}: ${message}`]);\n  };\n\n  useEffect(() => {\n    const testPostHog = async () => {\n      try {\n        addLog('Starting PostHog test...');\n        \n        // Check environment variables\n        addLog(`PostHog Key: ${config.posthogKey ? 'Present' : 'Missing'}`);\n        addLog(`PostHog Host: ${config.posthogHost || 'Using default'}`);\n        \n        // Initialize analytics\n        analytics.init();\n        addLog('Analytics initialized');\n        \n        // Test tracking\n        analytics.track('test_event', {\n          test_property: 'test_value',\n          timestamp: new Date().toISOString(),\n        });\n        addLog('Test event tracked');\n        \n        // Test identification\n        analytics.identify('test_user_123', {\n          email: 'test@example.com',\n          name: 'Test User',\n        });\n        addLog('User identified');\n        \n        setStatus('success');\n        addLog('PostHog test completed successfully!');\n      } catch (error) {\n        addLog(`Error: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        setStatus('error');\n      }\n    };\n\n    testPostHog();\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">PostHog Configuration Test</h1>\n        \n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Configuration Status</h2>\n          <div className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\n            status === 'loading' ? 'bg-yellow-100 text-yellow-800' :\n            status === 'success' ? 'bg-green-100 text-green-800' :\n            'bg-red-100 text-red-800'\n          }`}>\n            {status === 'loading' ? 'Testing...' :\n             status === 'success' ? 'Configuration OK' :\n             'Configuration Error'}\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Test Logs</h2>\n          <div className=\"bg-gray-50 rounded p-4 max-h-96 overflow-y-auto\">\n            <pre className=\"text-sm text-gray-700 whitespace-pre-wrap\">\n              {logs.join('\\n')}\n            </pre>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6 mt-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Manual Test</h2>\n          <p className=\"text-gray-600 mb-4\">\n            Click the button below to manually test PostHog tracking:\n          </p>\n          <button\n            onClick={() => {\n              analytics.track('manual_test_click', {\n                button: 'Manual Test Button',\n                timestamp: new Date().toISOString(),\n              });\n              addLog('Manual test event tracked');\n            }}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n          >\n            Send Test Event\n          </button>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6 mt-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Environment Variables</h2>\n          <div className=\"space-y-2 text-sm\">\n            <div><strong>NEXT_PUBLIC_POSTHOG_KEY:</strong> {config.posthogKey ? '✓ Set' : '✗ Missing'}</div>\n            <div><strong>NEXT_PUBLIC_POSTHOG_HOST:</strong> {config.posthogHost || 'Using default'}</div>\n            <div><strong>NODE_ENV:</strong> {process.env.NODE_ENV}</div>\n            <div><strong>Development Mode:</strong> {config.isDevelopment ? 'Yes' : 'No'}</div>\n            <div><strong>Production Mode:</strong> {config.isProduction ? 'Yes' : 'No'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}