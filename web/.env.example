# ===============================================================================
# aclue Web Application Environment Configuration Template
# ===============================================================================
#
# SECURITY WARNING: This file contains template values only.
# Copy this file to .env.local for local development.
# For production, configure these variables in your deployment platform:
# - Vercel: Environment Variables section in dashboard
# - Netlify: Environment Variables in site settings
# - Docker: Environment variables in docker-compose or deployment config
#
# IMPORTANT: Only variables prefixed with NEXT_PUBLIC_ are exposed to the browser.
# Server-side variables (without NEXT_PUBLIC_) are only available during build time
# and in API routes/Server Actions.
#
# Last Updated: September 2025
# Environment Schema Version: 2.1.0
# ===============================================================================

# ===============================================================================
# NEXT.JS CORE CONFIGURATION
# ===============================================================================

# Node environment - REQUIRED
# Valid values: development, test, production
# Used for: Next.js optimisations and feature flags
NODE_ENV=development

# Next.js telemetry - OPTIONAL
# Valid values: 0, 1
# Used for: Next.js usage analytics (recommend disabling)
NEXT_TELEMETRY_DISABLED=1

# Build configuration - OPTIONAL
# Used for: Build optimisation and debugging
ANALYZE=false
BUNDLE_ANALYZER=false

# ===============================================================================
# APPLICATION CONFIGURATION
# ===============================================================================

# Application URLs - REQUIRED
# Used for: API communication and absolute URL generation
# Development examples:
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WEB_URL=http://localhost:3000

# Production examples:
# NEXT_PUBLIC_API_URL=https://aclue-backend-production.up.railway.app
# NEXT_PUBLIC_WEB_URL=https://aclue.app

# Application metadata - REQUIRED
# Used for: SEO, PWA manifest, and branding
NEXT_PUBLIC_APP_NAME=aclue
NEXT_PUBLIC_APP_DESCRIPTION=AI-powered gifting platform
NEXT_PUBLIC_APP_VERSION=2.1.0

# ===============================================================================
# BACKEND INTEGRATION
# ===============================================================================

# API configuration - REQUIRED
# Used for: Server-side API communication
API_BASE_URL=http://localhost:8000
API_TIMEOUT=30000

# API authentication - REQUIRED for server-side operations
# Note: These are server-side only (no NEXT_PUBLIC_ prefix)
# Used for: Server Action authentication with backend
API_SECRET_KEY=your-api-secret-key-for-server-side-requests

# ===============================================================================
# DATABASE CONFIGURATION (Server-side only)
# ===============================================================================

# Supabase configuration - REQUIRED
# Note: ANON_KEY can be public, SERVICE_ROLE_KEY must be server-side only
# Used for: Database operations and authentication

# Public Supabase configuration (exposed to browser)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key-here

# Private Supabase configuration (server-side only)
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here

# ===============================================================================
# EMAIL SERVICES (Server-side only)
# ===============================================================================

# Resend API configuration - REQUIRED for Server Actions
# Used for: Newsletter subscriptions and transactional emails
# CRITICAL: Newsletter system uses direct Resend SDK integration
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=re_your_resend_api_key_here

# Email configuration - REQUIRED when email enabled
# Used for: Email sender information
FROM_EMAIL=hello@aclue.app
FROM_NAME=aclue

# ===============================================================================
# AUTHENTICATION & SECURITY
# ===============================================================================

# NextAuth.js configuration - OPTIONAL (if using NextAuth)
# Used for: Authentication system
# NEXTAUTH_URL=http://localhost:3000
# NEXTAUTH_SECRET=your-nextauth-secret-key-here

# JWT configuration - OPTIONAL (for custom auth)
# Used for: Custom JWT handling
# JWT_SECRET=your-jwt-secret-for-client-side-validation

# Security headers - OPTIONAL
# Used for: Additional security configuration
# FORCE_HTTPS=false
# SECURE_COOKIES=false

# ===============================================================================
# EXTERNAL SERVICES (Public Keys)
# ===============================================================================

# Stripe configuration - OPTIONAL
# Used for: Payment processing
# Note: Only public key is exposed to browser
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Private Stripe configuration (server-side only)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Google services - OPTIONAL
# Used for: Analytics, authentication, maps
NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# Social authentication - OPTIONAL
# Used for: OAuth login providers
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret

# ===============================================================================
# ANALYTICS & MONITORING (Public Keys)
# ===============================================================================

# PostHog analytics - OPTIONAL
# Used for: User analytics and feature tracking
# Get your API key from: https://app.posthog.com/project/settings
NEXT_PUBLIC_POSTHOG_KEY=phc_your_posthog_api_key_here
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Sentry error tracking - OPTIONAL
# Used for: Client-side error monitoring
# Get your DSN from: https://sentry.io/
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Sentry configuration - OPTIONAL
NEXT_PUBLIC_SENTRY_ENVIRONMENT=development
NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE=1.0

# Mixpanel analytics - OPTIONAL
# Used for: Advanced user analytics
NEXT_PUBLIC_MIXPANEL_TOKEN=your-mixpanel-token-here

# Hotjar analytics - OPTIONAL
# Used for: User session recording and heatmaps
NEXT_PUBLIC_HOTJAR_ID=your-hotjar-id
NEXT_PUBLIC_HOTJAR_SV=your-hotjar-snippet-version

# ===============================================================================
# CDN & ASSET CONFIGURATION
# ===============================================================================

# Image optimisation - OPTIONAL
# Used for: Next.js Image component optimisation
NEXT_PUBLIC_IMAGE_DOMAINS=["images.aclue.app", "cdn.aclue.app"]

# CDN configuration - OPTIONAL
# Used for: Static asset delivery
NEXT_PUBLIC_CDN_URL=https://cdn.aclue.app

# Asset prefix - OPTIONAL
# Used for: Static export and CDN deployment
NEXT_PUBLIC_ASSET_PREFIX=
NEXT_PUBLIC_BASE_PATH=

# ===============================================================================
# FEATURE FLAGS (Public)
# ===============================================================================

# Core features - REQUIRED
# Used for: Feature toggle in client-side code
NEXT_PUBLIC_ENABLE_ANALYTICS=true
NEXT_PUBLIC_ENABLE_SOCIAL_LOGIN=true
NEXT_PUBLIC_ENABLE_PWA=true
NEXT_PUBLIC_ENABLE_PAYMENTS=false

# Beta features - OPTIONAL
# Used for: Experimental feature toggle
NEXT_PUBLIC_ENABLE_BETA_FEATURES=false
NEXT_PUBLIC_ENABLE_DARK_MODE=true
NEXT_PUBLIC_ENABLE_OFFLINE_MODE=false

# Maintenance mode - OPTIONAL
# Used for: Application maintenance toggle
NEXT_PUBLIC_MAINTENANCE_MODE=false
NEXT_PUBLIC_MAINTENANCE_MESSAGE=We'll be back soon

# ===============================================================================
# PWA CONFIGURATION
# ===============================================================================

# PWA settings - OPTIONAL
# Used for: Progressive Web App features
NEXT_PUBLIC_PWA_ENABLED=true
NEXT_PUBLIC_PWA_START_URL=/
NEXT_PUBLIC_PWA_THEME_COLOR=#000000
NEXT_PUBLIC_PWA_BACKGROUND_COLOR=#ffffff

# ===============================================================================
# DEVELOPMENT CONFIGURATION
# ===============================================================================

# Development features - OPTIONAL (development only)
# Used for: Development debugging and optimisation
NEXT_PUBLIC_DEBUG=false
NEXT_PUBLIC_VERBOSE_LOGGING=false

# Hot reload configuration - OPTIONAL (development only)
# Used for: Development server optimisation
FAST_REFRESH=true
WEBPACK_ANALYZE=false
NEXT_DEBUG=false

# Development proxy - OPTIONAL (development only)
# Used for: CORS handling during development
DEVELOPMENT_PROXY_ENABLED=false

# ===============================================================================
# BUILD & DEPLOYMENT CONFIGURATION
# ===============================================================================

# Build optimisation - OPTIONAL
# Used for: Build process customisation
DOCKER_BUILDKIT=1
BUILDKIT_PROGRESS=plain

# Output configuration - OPTIONAL
# Used for: Static export and deployment
NEXT_OUTPUT=standalone
NEXT_TRACING=true

# Compression - OPTIONAL
# Used for: Asset compression and optimisation
COMPRESS_IMAGES=true
COMPRESS_FONTS=true

# ===============================================================================
# EXTERNAL API INTEGRATIONS (Public)
# ===============================================================================

# Amazon Associates - OPTIONAL
# Used for: Product recommendations (client-side)
# Note: These can be public as they're read-only API keys
NEXT_PUBLIC_AMAZON_ASSOCIATE_TAG=your-associate-tag
NEXT_PUBLIC_AMAZON_REGION=us-east-1

# Currency and localisation - OPTIONAL
# Used for: International features
NEXT_PUBLIC_DEFAULT_CURRENCY=GBP
NEXT_PUBLIC_DEFAULT_LOCALE=en-GB
NEXT_PUBLIC_SUPPORTED_LOCALES=["en-GB", "en-US"]

# ===============================================================================
# PERFORMANCE & OPTIMISATION
# ===============================================================================

# Image optimisation - OPTIONAL
# Used for: Next.js Image component configuration
NEXT_PUBLIC_IMAGE_QUALITY=75
NEXT_PUBLIC_IMAGE_FORMATS=["webp", "avif"]

# Caching configuration - OPTIONAL
# Used for: Client-side caching strategy
NEXT_PUBLIC_CACHE_TTL=3600
NEXT_PUBLIC_ENABLE_SW_CACHING=true

# Performance monitoring - OPTIONAL
# Used for: Performance tracking
NEXT_PUBLIC_ENABLE_WEB_VITALS=true
NEXT_PUBLIC_PERFORMANCE_MONITORING=false

# ===============================================================================
# SECURITY CONFIGURATION
# ===============================================================================

# Content Security Policy - OPTIONAL
# Used for: Enhanced security headers
CSP_ENABLED=false
CSP_REPORT_ONLY=true

# CORS configuration - OPTIONAL
# Used for: Cross-origin request handling
CORS_ENABLED=true
CORS_ORIGINS=["http://localhost:3000", "https://aclue.app"]

# Rate limiting - OPTIONAL
# Used for: Client-side rate limiting
NEXT_PUBLIC_RATE_LIMIT_ENABLED=true
NEXT_PUBLIC_RATE_LIMIT_REQUESTS=100
NEXT_PUBLIC_RATE_LIMIT_WINDOW=60000

# ===============================================================================
# ENVIRONMENT VALIDATION CHECKLIST
# ===============================================================================
#
# Before deploying, ensure all REQUIRED variables are set:
# □ NODE_ENV (development/production)
# □ NEXT_PUBLIC_API_URL (valid backend URL)
# □ NEXT_PUBLIC_WEB_URL (valid frontend URL)
# □ NEXT_PUBLIC_SUPABASE_URL (valid Supabase project URL)
# □ NEXT_PUBLIC_SUPABASE_ANON_KEY (valid Supabase anonymous key)
# □ SUPABASE_SERVICE_ROLE_KEY (valid Supabase service role key)
# □ RESEND_API_KEY (valid Resend API key for Server Actions)
#
# For production deployment, also ensure:
# □ NODE_ENV=production
# □ NEXT_TELEMETRY_DISABLED=1
# □ Production URLs in NEXT_PUBLIC_API_URL and NEXT_PUBLIC_WEB_URL
# □ Production Supabase credentials
# □ Production API keys for all external services
# □ Security features enabled (CSP, CORS, etc.)
# □ Analytics and monitoring configured
# □ Feature flags set appropriately for production
#
# Security reminders:
# □ Never expose server-side API keys with NEXT_PUBLIC_ prefix
# □ Use environment-specific keys (development vs production)
# □ Regularly rotate sensitive keys
# □ Validate all external URLs and domains
# □ Enable security headers in production
#
# ===============================================================================
