{"version":3,"names":["cov_1tl1l6av83","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","RelatedProducts","formatPrice","price","currency","Intl","NumberFormat","style","format","products","currentProductId","length","_jsxruntime","jsxs","jsx","className","map","product","productName","title","_link","default","href","id","_image","src","image_url","alt","fill","sizes","brand","rating","_lucidereact","Star","toFixed"],"sources":["/home/jack/Documents/aclue-preprod/web/src/components/shop/RelatedProducts.tsx"],"sourcesContent":["/**\n * Related Products - Server Component\n *\n * Displays related products based on category or recommendations.\n * Server-rendered for better performance and SEO.\n */\n\nimport React from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { Star } from 'lucide-react';\n\ninterface Product {\n  id: string;\n  title: string;\n  name?: string;\n  price: number;\n  currency?: string;\n  image_url: string;\n  brand?: string;\n  rating?: number;\n}\n\ninterface RelatedProductsProps {\n  products: Product[];\n  currentProductId: string;\n}\n\nfunction formatPrice(price: number, currency: string = 'GBP'): string {\n  return new Intl.NumberFormat('en-GB', {\n    style: 'currency',\n    currency: currency,\n  }).format(price);\n}\n\nexport function RelatedProducts({ products, currentProductId }: RelatedProductsProps) {\n  if (products.length === 0) {\n    return null;\n  }\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\n        Related Products\n      </h2>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {products.map((product) => {\n          const productName = product.title || product.name || 'Product';\n\n          return (\n            <Link\n              key={product.id}\n              href={`/products/${product.id}`}\n              className=\"group\"\n            >\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow\">\n                {/* Product Image */}\n                <div className=\"relative aspect-square bg-gray-100\">\n                  <Image\n                    src={product.image_url}\n                    alt={productName}\n                    fill\n                    className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\n                    sizes=\"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 25vw\"\n                  />\n                </div>\n\n                {/* Product Details */}\n                <div className=\"p-4\">\n                  <h3 className=\"font-semibold text-gray-900 line-clamp-2 mb-1 group-hover:text-primary-600 transition-colors\">\n                    {productName}\n                  </h3>\n\n                  {product.brand && (\n                    <p className=\"text-sm text-gray-600 mb-2\">{product.brand}</p>\n                  )}\n\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-lg font-bold text-gray-900\">\n                      {formatPrice(product.price, product.currency)}\n                    </span>\n\n                    {product.rating && (\n                      <div className=\"flex items-center gap-1\">\n                        <Star className=\"w-4 h-4 text-yellow-400 fill-yellow-400\" />\n                        <span className=\"text-sm font-medium text-gray-900\">\n                          {product.rating.toFixed(1)}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </Link>\n          );\n        })}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}