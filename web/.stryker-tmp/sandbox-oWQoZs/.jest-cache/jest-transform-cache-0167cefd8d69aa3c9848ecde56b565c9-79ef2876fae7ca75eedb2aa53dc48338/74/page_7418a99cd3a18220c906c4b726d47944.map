{"version":3,"names":["default","cov_1qmhklb610","f","s","RegisterPage","dynamic","metadata","title","description","searchParams","currentUser","_auth","getCurrentUser","b","redirectTo","redirect","_navigation","_jsxruntime","jsx","className","_RegisterForm","RegisterForm","registerAction","redirectUrl","error"],"sources":["/home/jack/Documents/aclue-preprod/web/src/app/(auth)/register/page.tsx"],"sourcesContent":["import React from 'react'\nimport { redirect } from 'next/navigation'\nimport { registerAction, getCurrentUser } from '@/app/actions/auth'\nimport { RegisterForm } from '@/components/auth/RegisterForm'\n\n// Force dynamic rendering for authentication check\nexport const dynamic = 'force-dynamic'\n\n/**\n * Enhanced Registration Page - App Router Implementation\n *\n * Server-rendered registration page with comprehensive validation and security.\n * Part of Phase 3: Tier 1 Migration (85% server components).\n *\n * Features:\n * - Server-side rendering for optimal performance\n * - Multi-step form with server actions\n * - Comprehensive validation and error handling\n * - Enhanced security with minimal client-side JavaScript\n * - Full compatibility with existing Supabase auth system\n *\n * Security Improvements:\n * - Server-side form validation with Zod schemas\n * - Password strength validation\n * - HTTP-only cookie authentication\n * - CSRF protection\n * - Automatic session validation\n */\n\ninterface RegisterPageProps {\n  searchParams: {\n    redirect?: string\n    error?: string\n  }\n}\n\nexport const metadata = {\n  title: 'Create account - aclue',\n  description: 'Create your aclue account to start discovering perfect gifts with AI-powered recommendations',\n}\n\nexport default async function RegisterPage({ searchParams }: RegisterPageProps) {\n  // Server-side authentication check - redirect if already authenticated\n  const currentUser = await getCurrentUser()\n\n  if (currentUser) {\n    const redirectTo = searchParams.redirect || '/dashboard'\n    redirect(redirectTo)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 flex flex-col\">\n      <RegisterForm\n        registerAction={registerAction}\n        redirectUrl={searchParams.redirect}\n        error={searchParams.error}\n      />\n    </div>\n  )\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAyCAA,OAkBC,WAAAA,CAAA;IAAA;IAAAC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAlB6BC,YAAA;;EAnCjBC,OAAO,WAAAA,CAAA;IAAA;IAAAJ,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAAPE,OAAA;;EA8BAC,QAAQ,WAAAA,CAAA;IAAA;IAAAL,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAARG,QAAA;;;;;;;;wEApCK;;;kCACO;;;mCACsB;;;mCAClB;;;;;;;;;;;;;;;AAGtB,MAAMD,OAAA;AAAA;AAAA,CAAAJ,cAAA,GAAAE,CAAA,QAAU;AA8BhB,MAAMG,QAAA;AAAA;AAAA,CAAAL,cAAA,GAAAE,CAAA,QAAW;EACtBI,KAAA,EAAO;EACPC,WAAA,EAAa;AACf;AAEe,eAAeJ,aAAa;EAAEK;AAAY,CAAqB;EAAA;EAAAR,cAAA,GAAAC,CAAA;EAC5E;EACA,MAAMQ,WAAA;EAAA;EAAA,CAAAT,cAAA,GAAAE,CAAA,QAAc,MAAM,IAAAQ,KAAA,CAAAC,cAAc;EAAA;EAAAX,cAAA,GAAAE,CAAA;EAExC,IAAIO,WAAA,EAAa;IAAA;IAAAT,cAAA,GAAAY,CAAA;IACf,MAAMC,UAAA;IAAA;IAAA,CAAAb,cAAA,GAAAE,CAAA;IAAa;IAAA,CAAAF,cAAA,GAAAY,CAAA,UAAAJ,YAAA,CAAaM,QAAQ;IAAA;IAAA,CAAAd,cAAA,GAAAY,CAAA,UAAI;IAAA;IAAAZ,cAAA,GAAAE,CAAA;IAC5C,IAAAa,WAAA,CAAAD,QAAQ,EAACD,UAAA;EACX;EAAA;EAAA;IAAAb,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAE,CAAA;EAEA,oBACE,IAAAc,WAAA,CAAAC,GAAA,EAAC;IAAIC,SAAA,EAAU;cACb,iBAAAF,WAAA,CAAAC,GAAA,EAACE,aAAA,CAAAC,YAAY;MACXC,cAAA,EAAgBX,KAAA,CAAAW,cAAc;MAC9BC,WAAA,EAAad,YAAA,CAAaM,QAAQ;MAClCS,KAAA,EAAOf,YAAA,CAAae;;;AAI5B","ignoreList":[]}