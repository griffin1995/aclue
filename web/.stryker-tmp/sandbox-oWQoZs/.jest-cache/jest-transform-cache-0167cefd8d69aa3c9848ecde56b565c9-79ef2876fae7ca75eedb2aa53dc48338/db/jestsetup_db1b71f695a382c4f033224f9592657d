e7c736946322d383613a97c25d547928
"use strict";
// Mock Next.js router
jest.mock("next/router", ()=>({
        useRouter () {
            return {
                route: "/",
                pathname: "/",
                query: {},
                asPath: "/",
                push: jest.fn(),
                replace: jest.fn(),
                reload: jest.fn(),
                back: jest.fn(),
                prefetch: jest.fn(),
                beforePopState: jest.fn(),
                events: {
                    on: jest.fn(),
                    off: jest.fn(),
                    emit: jest.fn()
                }
            };
        }
    }));
// Mock Next.js image
jest.mock("next/image", ()=>{
    const MockedImage = ({ src, alt, ...props })=>{
        // eslint-disable-next-line @next/next/no-img-element
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("img", {
            src: src,
            alt: alt,
            ...props
        });
    };
    MockedImage.displayName = "NextImage";
    return MockedImage;
});
// Mock Next.js link
jest.mock("next/link", ()=>{
    const MockedLink = ({ children, href, ...props })=>{
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
            href: href,
            ...props,
            children: children
        });
    };
    MockedLink.displayName = "NextLink";
    return MockedLink;
});
// Mock framer-motion
jest.mock("framer-motion", ()=>({
        motion: {
            div: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    ...props,
                    children: children
                }),
            button: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    ...props,
                    children: children
                }),
            span: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    ...props,
                    children: children
                }),
            img: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("img", {
                    ...props,
                    children: children
                }),
            a: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                    ...props,
                    children: children
                }),
            form: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("form", {
                    ...props,
                    children: children
                }),
            input: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                    ...props,
                    children: children
                }),
            textarea: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                    ...props,
                    children: children
                }),
            select: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("select", {
                    ...props,
                    children: children
                }),
            h1: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                    ...props,
                    children: children
                }),
            h2: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                    ...props,
                    children: children
                }),
            h3: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                    ...props,
                    children: children
                }),
            p: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    ...props,
                    children: children
                }),
            ul: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("ul", {
                    ...props,
                    children: children
                }),
            li: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                    ...props,
                    children: children
                })
        },
        AnimatePresence: ({ children })=>children,
        useMotionValue: ()=>({
                set: jest.fn(),
                get: jest.fn()
            }),
        useTransform: ()=>({
                set: jest.fn(),
                get: jest.fn()
            }),
        useAnimation: ()=>({
                start: jest.fn(),
                stop: jest.fn()
            }),
        useSpring: ()=>({
                set: jest.fn(),
                get: jest.fn()
            })
    }));
// Mock react-hot-toast
jest.mock("react-hot-toast", ()=>({
        toast: {
            success: jest.fn(),
            error: jest.fn(),
            loading: jest.fn(),
            dismiss: jest.fn()
        },
        Toaster: ()=>null
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
require("@testing-library/jest-dom");
require("jest-canvas-mock");
// Mock global fetch for API testing
global.fetch = jest.fn(()=>Promise.resolve({
        ok: true,
        status: 200,
        json: ()=>Promise.resolve({}),
        text: ()=>Promise.resolve("")
    }));
// Mock IntersectionObserver
global.IntersectionObserver = class IntersectionObserver {
    constructor(){}
    observe() {
        return null;
    }
    disconnect() {
        return null;
    }
    unobserve() {
        return null;
    }
};
// Mock ResizeObserver
global.ResizeObserver = class ResizeObserver {
    constructor(){}
    observe() {
        return null;
    }
    disconnect() {
        return null;
    }
    unobserve() {
        return null;
    }
};
// Mock matchMedia
Object.defineProperty(window, "matchMedia", {
    writable: true,
    value: jest.fn().mockImplementation((query)=>({
            matches: false,
            media: query,
            onchange: null,
            addListener: jest.fn(),
            removeListener: jest.fn(),
            addEventListener: jest.fn(),
            removeEventListener: jest.fn(),
            dispatchEvent: jest.fn()
        }))
});
// Mock scrollTo
Object.defineProperty(window, "scrollTo", {
    writable: true,
    value: jest.fn()
});
// Mock localStorage
const localStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
};
Object.defineProperty(window, "localStorage", {
    value: localStorageMock
});
// Mock sessionStorage
const sessionStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
};
Object.defineProperty(window, "sessionStorage", {
    value: sessionStorageMock
});
// Mock crypto.getRandomValues
Object.defineProperty(global, "crypto", {
    value: {
        getRandomValues: (arr)=>{
            for(let i = 0; i < arr.length; i++){
                arr[i] = Math.floor(Math.random() * 256);
            }
            return arr;
        }
    }
});
// Mock navigator
Object.defineProperty(window, "navigator", {
    value: {
        userAgent: "jest",
        platform: "jest",
        language: "en-US",
        languages: [
            "en-US"
        ],
        onLine: true,
        clipboard: {
            writeText: jest.fn().mockResolvedValue(undefined),
            readText: jest.fn().mockResolvedValue("")
        },
        share: jest.fn().mockResolvedValue(undefined),
        vibrate: jest.fn()
    },
    writable: true
});
// Mock fetch
global.fetch = jest.fn();
// Mock console methods for cleaner test output
const originalError = console.error;
const originalWarn = console.warn;
beforeAll(()=>{
    console.error = (...args)=>{
        if (typeof args[0] === "string" && args[0].includes("Warning: ReactDOM.render is no longer supported")) {
            return;
        }
        originalError.call(console, ...args);
    };
    console.warn = (...args)=>{
        if (typeof args[0] === "string" && (args[0].includes("componentWillReceiveProps") || args[0].includes("componentWillUpdate") || args[0].includes("componentWillMount"))) {
            return;
        }
        originalWarn.call(console, ...args);
    };
});
afterAll(()=>{
    console.error = originalError;
    console.warn = originalWarn;
});
// Clear all mocks after each test
afterEach(()=>{
    jest.clearAllMocks();
    localStorageMock.clear();
    sessionStorageMock.clear();
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2phY2svRG9jdW1lbnRzL2FjbHVlLXByZXByb2Qvd2ViL2plc3Quc2V0dXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcbmltcG9ydCAnamVzdC1jYW52YXMtbW9jayc7XG5cbi8vIE1vY2sgZ2xvYmFsIGZldGNoIGZvciBBUEkgdGVzdGluZ1xuZ2xvYmFsLmZldGNoID0gamVzdC5mbigoKSA9PlxuICBQcm9taXNlLnJlc29sdmUoe1xuICAgIG9rOiB0cnVlLFxuICAgIHN0YXR1czogMjAwLFxuICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7fSksXG4gICAgdGV4dDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCcnKSxcbiAgfSlcbik7XG5cbi8vIE1vY2sgTmV4dC5qcyByb3V0ZXJcbmplc3QubW9jaygnbmV4dC9yb3V0ZXInLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdXRlOiAnLycsXG4gICAgICBwYXRobmFtZTogJy8nLFxuICAgICAgcXVlcnk6IHt9LFxuICAgICAgYXNQYXRoOiAnLycsXG4gICAgICBwdXNoOiBqZXN0LmZuKCksXG4gICAgICByZXBsYWNlOiBqZXN0LmZuKCksXG4gICAgICByZWxvYWQ6IGplc3QuZm4oKSxcbiAgICAgIGJhY2s6IGplc3QuZm4oKSxcbiAgICAgIHByZWZldGNoOiBqZXN0LmZuKCksXG4gICAgICBiZWZvcmVQb3BTdGF0ZTogamVzdC5mbigpLFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIG9uOiBqZXN0LmZuKCksXG4gICAgICAgIG9mZjogamVzdC5mbigpLFxuICAgICAgICBlbWl0OiBqZXN0LmZuKCksXG4gICAgICB9LFxuICAgIH07XG4gIH0sXG59KSk7XG5cbi8vIE1vY2sgTmV4dC5qcyBpbWFnZVxuamVzdC5tb2NrKCduZXh0L2ltYWdlJywgKCkgPT4ge1xuICBjb25zdCBNb2NrZWRJbWFnZSA9ICh7IHNyYywgYWx0LCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBuZXh0L25leHQvbm8taW1nLWVsZW1lbnRcbiAgICByZXR1cm4gPGltZyBzcmM9e3NyY30gYWx0PXthbHR9IHsuLi5wcm9wc30gLz47XG4gIH07XG4gIE1vY2tlZEltYWdlLmRpc3BsYXlOYW1lID0gJ05leHRJbWFnZSc7XG4gIHJldHVybiBNb2NrZWRJbWFnZTtcbn0pO1xuXG4vLyBNb2NrIE5leHQuanMgbGlua1xuamVzdC5tb2NrKCduZXh0L2xpbmsnLCAoKSA9PiB7XG4gIGNvbnN0IE1vY2tlZExpbmsgPSAoeyBjaGlsZHJlbiwgaHJlZiwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBocmVmPXtocmVmfSB7Li4ucHJvcHN9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfTtcbiAgTW9ja2VkTGluay5kaXNwbGF5TmFtZSA9ICdOZXh0TGluayc7XG4gIHJldHVybiBNb2NrZWRMaW5rO1xufSk7XG5cbi8vIE1vY2sgZnJhbWVyLW1vdGlvblxuamVzdC5tb2NrKCdmcmFtZXItbW90aW9uJywgKCkgPT4gKHtcbiAgbW90aW9uOiB7XG4gICAgZGl2OiAoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4gPGRpdiB7Li4ucHJvcHN9PntjaGlsZHJlbn08L2Rpdj4sXG4gICAgYnV0dG9uOiAoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4gPGJ1dHRvbiB7Li4ucHJvcHN9PntjaGlsZHJlbn08L2J1dHRvbj4sXG4gICAgc3BhbjogKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IDxzcGFuIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvc3Bhbj4sXG4gICAgaW1nOiAoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4gPGltZyB7Li4ucHJvcHN9PntjaGlsZHJlbn08L2ltZz4sXG4gICAgYTogKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IDxhIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvYT4sXG4gICAgZm9ybTogKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IDxmb3JtIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvZm9ybT4sXG4gICAgaW5wdXQ6ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiA8aW5wdXQgey4uLnByb3BzfT57Y2hpbGRyZW59PC9pbnB1dD4sXG4gICAgdGV4dGFyZWE6ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiA8dGV4dGFyZWEgey4uLnByb3BzfT57Y2hpbGRyZW59PC90ZXh0YXJlYT4sXG4gICAgc2VsZWN0OiAoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4gPHNlbGVjdCB7Li4ucHJvcHN9PntjaGlsZHJlbn08L3NlbGVjdD4sXG4gICAgaDE6ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiA8aDEgey4uLnByb3BzfT57Y2hpbGRyZW59PC9oMT4sXG4gICAgaDI6ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiA8aDIgey4uLnByb3BzfT57Y2hpbGRyZW59PC9oMj4sXG4gICAgaDM6ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiA8aDMgey4uLnByb3BzfT57Y2hpbGRyZW59PC9oMz4sXG4gICAgcDogKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IDxwIHsuLi5wcm9wc30+e2NoaWxkcmVufTwvcD4sXG4gICAgdWw6ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiA8dWwgey4uLnByb3BzfT57Y2hpbGRyZW59PC91bD4sXG4gICAgbGk6ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiA8bGkgey4uLnByb3BzfT57Y2hpbGRyZW59PC9saT4sXG4gIH0sXG4gIEFuaW1hdGVQcmVzZW5jZTogKHsgY2hpbGRyZW4gfSkgPT4gY2hpbGRyZW4sXG4gIHVzZU1vdGlvblZhbHVlOiAoKSA9PiAoeyBzZXQ6IGplc3QuZm4oKSwgZ2V0OiBqZXN0LmZuKCkgfSksXG4gIHVzZVRyYW5zZm9ybTogKCkgPT4gKHsgc2V0OiBqZXN0LmZuKCksIGdldDogamVzdC5mbigpIH0pLFxuICB1c2VBbmltYXRpb246ICgpID0+ICh7IHN0YXJ0OiBqZXN0LmZuKCksIHN0b3A6IGplc3QuZm4oKSB9KSxcbiAgdXNlU3ByaW5nOiAoKSA9PiAoeyBzZXQ6IGplc3QuZm4oKSwgZ2V0OiBqZXN0LmZuKCkgfSksXG59KSk7XG5cbi8vIE1vY2sgcmVhY3QtaG90LXRvYXN0XG5qZXN0Lm1vY2soJ3JlYWN0LWhvdC10b2FzdCcsICgpID0+ICh7XG4gIHRvYXN0OiB7XG4gICAgc3VjY2VzczogamVzdC5mbigpLFxuICAgIGVycm9yOiBqZXN0LmZuKCksXG4gICAgbG9hZGluZzogamVzdC5mbigpLFxuICAgIGRpc21pc3M6IGplc3QuZm4oKSxcbiAgfSxcbiAgVG9hc3RlcjogKCkgPT4gbnVsbCxcbn0pKTtcblxuLy8gTW9jayBJbnRlcnNlY3Rpb25PYnNlcnZlclxuZ2xvYmFsLkludGVyc2VjdGlvbk9ic2VydmVyID0gY2xhc3MgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcigpIHt9XG4gIG9ic2VydmUoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZGlzY29ubmVjdCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB1bm9ic2VydmUoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vIE1vY2sgUmVzaXplT2JzZXJ2ZXJcbmdsb2JhbC5SZXNpemVPYnNlcnZlciA9IGNsYXNzIFJlc2l6ZU9ic2VydmVyIHtcbiAgY29uc3RydWN0b3IoKSB7fVxuICBvYnNlcnZlKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdW5vYnNlcnZlKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vLyBNb2NrIG1hdGNoTWVkaWFcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdtYXRjaE1lZGlhJywge1xuICB3cml0YWJsZTogdHJ1ZSxcbiAgdmFsdWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHF1ZXJ5KSA9PiAoe1xuICAgIG1hdGNoZXM6IGZhbHNlLFxuICAgIG1lZGlhOiBxdWVyeSxcbiAgICBvbmNoYW5nZTogbnVsbCxcbiAgICBhZGRMaXN0ZW5lcjogamVzdC5mbigpLCAvLyBkZXByZWNhdGVkXG4gICAgcmVtb3ZlTGlzdGVuZXI6IGplc3QuZm4oKSwgLy8gZGVwcmVjYXRlZFxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgZGlzcGF0Y2hFdmVudDogamVzdC5mbigpLFxuICB9KSksXG59KTtcblxuLy8gTW9jayBzY3JvbGxUb1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3Njcm9sbFRvJywge1xuICB3cml0YWJsZTogdHJ1ZSxcbiAgdmFsdWU6IGplc3QuZm4oKSxcbn0pO1xuXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxuY29uc3QgbG9jYWxTdG9yYWdlTW9jayA9IHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgY2xlYXI6IGplc3QuZm4oKSxcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYWxTdG9yYWdlJywge1xuICB2YWx1ZTogbG9jYWxTdG9yYWdlTW9jayxcbn0pO1xuXG4vLyBNb2NrIHNlc3Npb25TdG9yYWdlXG5jb25zdCBzZXNzaW9uU3RvcmFnZU1vY2sgPSB7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgc2V0SXRlbTogamVzdC5mbigpLFxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gIGNsZWFyOiBqZXN0LmZuKCksXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3Nlc3Npb25TdG9yYWdlJywge1xuICB2YWx1ZTogc2Vzc2lvblN0b3JhZ2VNb2NrLFxufSk7XG5cbi8vIE1vY2sgY3J5cHRvLmdldFJhbmRvbVZhbHVlc1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbCwgJ2NyeXB0bycsIHtcbiAgdmFsdWU6IHtcbiAgICBnZXRSYW5kb21WYWx1ZXM6IChhcnIpID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1Nik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLy8gTW9jayBuYXZpZ2F0b3Jcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICduYXZpZ2F0b3InLCB7XG4gIHZhbHVlOiB7XG4gICAgdXNlckFnZW50OiAnamVzdCcsXG4gICAgcGxhdGZvcm06ICdqZXN0JyxcbiAgICBsYW5ndWFnZTogJ2VuLVVTJyxcbiAgICBsYW5ndWFnZXM6IFsnZW4tVVMnXSxcbiAgICBvbkxpbmU6IHRydWUsXG4gICAgY2xpcGJvYXJkOiB7XG4gICAgICB3cml0ZVRleHQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgICAgcmVhZFRleHQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnJyksXG4gICAgfSxcbiAgICBzaGFyZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdmlicmF0ZTogamVzdC5mbigpLFxuICB9LFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG4vLyBNb2NrIGZldGNoXG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCk7XG5cbi8vIE1vY2sgY29uc29sZSBtZXRob2RzIGZvciBjbGVhbmVyIHRlc3Qgb3V0cHV0XG5jb25zdCBvcmlnaW5hbEVycm9yID0gY29uc29sZS5lcnJvcjtcbmNvbnN0IG9yaWdpbmFsV2FybiA9IGNvbnNvbGUud2FybjtcblxuYmVmb3JlQWxsKCgpID0+IHtcbiAgY29uc29sZS5lcnJvciA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnICYmXG4gICAgICBhcmdzWzBdLmluY2x1ZGVzKCdXYXJuaW5nOiBSZWFjdERPTS5yZW5kZXIgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCcpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG9yaWdpbmFsRXJyb3IuY2FsbChjb25zb2xlLCAuLi5hcmdzKTtcbiAgfTtcblxuICBjb25zb2xlLndhcm4gPSAoLi4uYXJncykgPT4ge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyAmJlxuICAgICAgKGFyZ3NbMF0uaW5jbHVkZXMoJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKSB8fFxuICAgICAgICBhcmdzWzBdLmluY2x1ZGVzKCdjb21wb25lbnRXaWxsVXBkYXRlJykgfHxcbiAgICAgICAgYXJnc1swXS5pbmNsdWRlcygnY29tcG9uZW50V2lsbE1vdW50JykpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG9yaWdpbmFsV2Fybi5jYWxsKGNvbnNvbGUsIC4uLmFyZ3MpO1xuICB9O1xufSk7XG5cbmFmdGVyQWxsKCgpID0+IHtcbiAgY29uc29sZS5lcnJvciA9IG9yaWdpbmFsRXJyb3I7XG4gIGNvbnNvbGUud2FybiA9IG9yaWdpbmFsV2Fybjtcbn0pO1xuXG4vLyBDbGVhciBhbGwgbW9ja3MgYWZ0ZXIgZWFjaCB0ZXN0XG5hZnRlckVhY2goKCkgPT4ge1xuICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgbG9jYWxTdG9yYWdlTW9jay5jbGVhcigpO1xuICBzZXNzaW9uU3RvcmFnZU1vY2suY2xlYXIoKTtcbn0pOyJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZVJvdXRlciIsInJvdXRlIiwicGF0aG5hbWUiLCJxdWVyeSIsImFzUGF0aCIsInB1c2giLCJmbiIsInJlcGxhY2UiLCJyZWxvYWQiLCJiYWNrIiwicHJlZmV0Y2giLCJiZWZvcmVQb3BTdGF0ZSIsImV2ZW50cyIsIm9uIiwib2ZmIiwiZW1pdCIsIk1vY2tlZEltYWdlIiwic3JjIiwiYWx0IiwicHJvcHMiLCJpbWciLCJkaXNwbGF5TmFtZSIsIk1vY2tlZExpbmsiLCJjaGlsZHJlbiIsImhyZWYiLCJhIiwibW90aW9uIiwiZGl2IiwiYnV0dG9uIiwic3BhbiIsImZvcm0iLCJpbnB1dCIsInRleHRhcmVhIiwic2VsZWN0IiwiaDEiLCJoMiIsImgzIiwicCIsInVsIiwibGkiLCJBbmltYXRlUHJlc2VuY2UiLCJ1c2VNb3Rpb25WYWx1ZSIsInNldCIsImdldCIsInVzZVRyYW5zZm9ybSIsInVzZUFuaW1hdGlvbiIsInN0YXJ0Iiwic3RvcCIsInVzZVNwcmluZyIsInRvYXN0Iiwic3VjY2VzcyIsImVycm9yIiwibG9hZGluZyIsImRpc21pc3MiLCJUb2FzdGVyIiwiZ2xvYmFsIiwiZmV0Y2giLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9rIiwic3RhdHVzIiwianNvbiIsInRleHQiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImNvbnN0cnVjdG9yIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJ1bm9ic2VydmUiLCJSZXNpemVPYnNlcnZlciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93Iiwid3JpdGFibGUiLCJ2YWx1ZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIm1hdGNoZXMiLCJtZWRpYSIsIm9uY2hhbmdlIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCIsImxvY2FsU3RvcmFnZU1vY2siLCJnZXRJdGVtIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsInNlc3Npb25TdG9yYWdlTW9jayIsImdldFJhbmRvbVZhbHVlcyIsImFyciIsImkiLCJsZW5ndGgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1c2VyQWdlbnQiLCJwbGF0Zm9ybSIsImxhbmd1YWdlIiwibGFuZ3VhZ2VzIiwib25MaW5lIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwibW9ja1Jlc29sdmVkVmFsdWUiLCJ1bmRlZmluZWQiLCJyZWFkVGV4dCIsInNoYXJlIiwidmlicmF0ZSIsIm9yaWdpbmFsRXJyb3IiLCJjb25zb2xlIiwib3JpZ2luYWxXYXJuIiwid2FybiIsImJlZm9yZUFsbCIsImFyZ3MiLCJpbmNsdWRlcyIsImNhbGwiLCJhZnRlckFsbCIsImFmdGVyRWFjaCIsImNsZWFyQWxsTW9ja3MiXSwibWFwcGluZ3MiOiI7QUFhQSxzQkFBc0I7QUFDdEJBLEtBQUtDLElBQUksQ0FBQyxlQUFlLElBQU8sQ0FBQTtRQUM5QkM7WUFDRSxPQUFPO2dCQUNMQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxPQUFPLENBQUM7Z0JBQ1JDLFFBQVE7Z0JBQ1JDLE1BQU1QLEtBQUtRLEVBQUU7Z0JBQ2JDLFNBQVNULEtBQUtRLEVBQUU7Z0JBQ2hCRSxRQUFRVixLQUFLUSxFQUFFO2dCQUNmRyxNQUFNWCxLQUFLUSxFQUFFO2dCQUNiSSxVQUFVWixLQUFLUSxFQUFFO2dCQUNqQkssZ0JBQWdCYixLQUFLUSxFQUFFO2dCQUN2Qk0sUUFBUTtvQkFDTkMsSUFBSWYsS0FBS1EsRUFBRTtvQkFDWFEsS0FBS2hCLEtBQUtRLEVBQUU7b0JBQ1pTLE1BQU1qQixLQUFLUSxFQUFFO2dCQUNmO1lBQ0Y7UUFDRjtJQUNGLENBQUE7QUFFQSxxQkFBcUI7QUFDckJSLEtBQUtDLElBQUksQ0FBQyxjQUFjO0lBQ3RCLE1BQU1pQixjQUFjLENBQUMsRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUUsR0FBR0MsT0FBTztRQUN6QyxxREFBcUQ7UUFDckQscUJBQU8scUJBQUNDO1lBQUlILEtBQUtBO1lBQUtDLEtBQUtBO1lBQU0sR0FBR0MsS0FBSzs7SUFDM0M7SUFDQUgsWUFBWUssV0FBVyxHQUFHO0lBQzFCLE9BQU9MO0FBQ1Q7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