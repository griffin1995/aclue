{"version":3,"names":["cov_12uugm31ui","actualCoverage","s","POST","request","f","console","log","BACKEND_URL","endpoint","fullUrl","payload","email","source","user_agent","marketing_consent","response","fetch","method","headers","body","JSON","stringify","signal","AbortSignal","timeout","status","data","json","_server","NextResponse","success","backendResponse","message","error","name"],"sources":["/home/jack/Documents/aclue-preprod/web/src/app/api/test-newsletter/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\n\n/**\n * Test API route to debug newsletter connectivity\n * This will help us isolate if the issue is with server actions specifically\n * or with the entire Next.js server environment\n */\n\nexport async function POST(request: NextRequest) {\n  console.log('ðŸ§ª API Route: Testing newsletter connectivity...');\n\n  try {\n    const BACKEND_URL = 'https://aclue-backend-production.up.railway.app';\n    const endpoint = '/api/v1/newsletter/signup';\n    const fullUrl = `${BACKEND_URL}${endpoint}`;\n\n    const payload = {\n      email: 'api-route-test@example.com',\n      source: 'api_route_test',\n      user_agent: 'Next.js API Route',\n      marketing_consent: true,\n    };\n\n    console.log('ðŸ“¡ API Route calling:', fullUrl);\n    console.log('ðŸ“‹ API Route payload:', payload);\n\n    const response = await fetch(fullUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'User-Agent': 'aclue-Web-Server/1.0',\n      },\n      body: JSON.stringify(payload),\n      signal: AbortSignal.timeout(10000),\n    });\n\n    console.log('âœ… API Route response status:', response.status);\n\n    const data = await response.json();\n    console.log('ðŸ“¦ API Route response data:', data);\n\n    return NextResponse.json({\n      success: true,\n      backendResponse: data,\n      status: response.status,\n      message: 'API route connectivity test successful'\n    });\n\n  } catch (error: any) {\n    console.error('ðŸ’¥ API Route error:', error);\n\n    return NextResponse.json({\n      success: false,\n      error: error.message,\n      name: error.name,\n      message: 'API route connectivity test failed'\n    }, { status: 500 });\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAaI;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;+BALkB;;;;;;WAAAC,IAAA;;;;;kCARoB;AAQnC,eAAeA,KAAKC,OAAoB;EAAA;EAAAJ,cAAA,GAAAK,CAAA;EAAAL,cAAA,GAAAE,CAAA;EAC7CI,OAAA,CAAQC,GAAG,CAAC;EAAA;EAAAP,cAAA,GAAAE,CAAA;EAEZ,IAAI;IACF,MAAMM,WAAA;IAAA;IAAA,CAAAR,cAAA,GAAAE,CAAA,OAAc;IACpB,MAAMO,QAAA;IAAA;IAAA,CAAAT,cAAA,GAAAE,CAAA,OAAW;IACjB,MAAMQ,OAAA;IAAA;IAAA,CAAAV,cAAA,GAAAE,CAAA,OAAU,GAAGM,WAAA,GAAcC,QAAA,EAAU;IAE3C,MAAME,OAAA;IAAA;IAAA,CAAAX,cAAA,GAAAE,CAAA,OAAU;MACdU,KAAA,EAAO;MACPC,MAAA,EAAQ;MACRC,UAAA,EAAY;MACZC,iBAAA,EAAmB;IACrB;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEAI,OAAA,CAAQC,GAAG,CAAC,mCAAyBG,OAAA;IAAA;IAAAV,cAAA,GAAAE,CAAA;IACrCI,OAAA,CAAQC,GAAG,CAAC,mCAAyBI,OAAA;IAErC,MAAMK,QAAA;IAAA;IAAA,CAAAhB,cAAA,GAAAE,CAAA,QAAW,MAAMe,KAAA,CAAMP,OAAA,EAAS;MACpCQ,MAAA,EAAQ;MACRC,OAAA,EAAS;QACP,gBAAgB;QAChB,UAAU;QACV,cAAc;MAChB;MACAC,IAAA,EAAMC,IAAA,CAAKC,SAAS,CAACX,OAAA;MACrBY,MAAA,EAAQC,WAAA,CAAYC,OAAO,CAAC;IAC9B;IAAA;IAAAzB,cAAA,GAAAE,CAAA;IAEAI,OAAA,CAAQC,GAAG,CAAC,gCAAgCS,QAAA,CAASU,MAAM;IAE3D,MAAMC,IAAA;IAAA;IAAA,CAAA3B,cAAA,GAAAE,CAAA,QAAO,MAAMc,QAAA,CAASY,IAAI;IAAA;IAAA5B,cAAA,GAAAE,CAAA;IAChCI,OAAA,CAAQC,GAAG,CAAC,yCAA+BoB,IAAA;IAAA;IAAA3B,cAAA,GAAAE,CAAA;IAE3C,OAAO2B,OAAA,CAAAC,YAAY,CAACF,IAAI,CAAC;MACvBG,OAAA,EAAS;MACTC,eAAA,EAAiBL,IAAA;MACjBD,MAAA,EAAQV,QAAA,CAASU,MAAM;MACvBO,OAAA,EAAS;IACX;EAEF,EAAE,OAAOC,KAAA,EAAY;IAAA;IAAAlC,cAAA,GAAAE,CAAA;IACnBI,OAAA,CAAQ4B,KAAK,CAAC,iCAAuBA,KAAA;IAAA;IAAAlC,cAAA,GAAAE,CAAA;IAErC,OAAO2B,OAAA,CAAAC,YAAY,CAACF,IAAI,CAAC;MACvBG,OAAA,EAAS;MACTG,KAAA,EAAOA,KAAA,CAAMD,OAAO;MACpBE,IAAA,EAAMD,KAAA,CAAMC,IAAI;MAChBF,OAAA,EAAS;IACX,GAAG;MAAEP,MAAA,EAAQ;IAAI;EACnB;AACF","ignoreList":[]}