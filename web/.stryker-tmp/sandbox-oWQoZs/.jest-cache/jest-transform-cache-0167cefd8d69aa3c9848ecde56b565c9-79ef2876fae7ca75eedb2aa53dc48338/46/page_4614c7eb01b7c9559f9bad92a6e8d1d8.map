{"version":3,"names":["default","cov_1oa9m412no","f","s","ProfilePage","dynamic","metadata","title","description","currentUser","_auth","getCurrentUser","b","_navigation","redirect","_jsxruntime","jsxs","className","jsx","_ProfileHeader","ProfileHeader","user","logoutAction","_ProfileSettings","ProfileSettings"],"sources":["/home/jack/Documents/aclue-preprod/web/src/app/(dashboard)/profile/page.tsx"],"sourcesContent":["import React from 'react'\nimport { redirect } from 'next/navigation'\nimport { getCurrentUser, logoutAction } from '@/app/actions/auth'\nimport { ProfileHeader } from '@/components/profile/ProfileHeader'\nimport { ProfileSettings } from '@/components/profile/ProfileSettings'\n\n// Force dynamic rendering for authentication check\nexport const dynamic = 'force-dynamic'\n\n/**\n * Enhanced Profile Page - App Router Implementation\n *\n * Server-rendered user profile page with comprehensive user management.\n * Part of Phase 3: Tier 1 Migration (85% server components).\n *\n * Features:\n * - Server-side rendering for optimal performance\n * - Server-side authentication validation\n * - Automatic redirect for unauthenticated users\n * - Server actions for profile updates\n * - Enhanced security with minimal client-side JavaScript\n * - Full compatibility with existing Supabase auth system\n *\n * Security Improvements:\n * - Server-side user data fetching\n * - HTTP-only cookie authentication\n * - Protected route enforcement\n * - Automatic session validation\n */\n\nexport const metadata = {\n  title: 'Profile - aclue',\n  description: 'Manage your aclue account settings and preferences',\n}\n\nexport default async function ProfilePage() {\n  // Server-side authentication check - redirect if not authenticated\n  const currentUser = await getCurrentUser()\n\n  if (!currentUser) {\n    redirect('/auth/login?redirect=/profile')\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <ProfileHeader user={currentUser} logoutAction={logoutAction} />\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"max-w-3xl mx-auto\">\n          {/* Profile Settings */}\n          <ProfileSettings user={currentUser} />\n        </div>\n      </main>\n    </div>\n  )\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAmCAA,OAsBC,WAAAA,CAAA;IAAA;IAAAC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAtB6BC,WAAA;;EA5BjBC,OAAO,WAAAA,CAAA;IAAA;IAAAJ,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAAPE,OAAA;;EAuBAC,QAAQ,WAAAA,CAAA;IAAA;IAAAL,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAARG,QAAA;;;;;;;;wEA9BK;;;kCACO;;;mCACoB;;;mCACf;;;mCACE;;;;;;;;;;;;;;;AAGzB,MAAMD,OAAA;AAAA;AAAA,CAAAJ,cAAA,GAAAE,CAAA,QAAU;AAuBhB,MAAMG,QAAA;AAAA;AAAA,CAAAL,cAAA,GAAAE,CAAA,QAAW;EACtBI,KAAA,EAAO;EACPC,WAAA,EAAa;AACf;AAEe,eAAeJ,YAAA;EAAA;EAAAH,cAAA,GAAAC,CAAA;EAC5B;EACA,MAAMO,WAAA;EAAA;EAAA,CAAAR,cAAA,GAAAE,CAAA,QAAc,MAAM,IAAAO,KAAA,CAAAC,cAAc;EAAA;EAAAV,cAAA,GAAAE,CAAA;EAExC,IAAI,CAACM,WAAA,EAAa;IAAA;IAAAR,cAAA,GAAAW,CAAA;IAAAX,cAAA,GAAAE,CAAA;IAChB,IAAAU,WAAA,CAAAC,QAAQ,EAAC;EACX;EAAA;EAAA;IAAAb,cAAA,GAAAW,CAAA;EAAA;EAAAX,cAAA,GAAAE,CAAA;EAEA,oBACE,IAAAY,WAAA,CAAAC,IAAA,EAAC;IAAIC,SAAA,EAAU;4BAEb,IAAAF,WAAA,CAAAG,GAAA,EAACC,cAAA,CAAAC,aAAa;MAACC,IAAA,EAAMZ,WAAA;MAAaa,YAAA,EAAcZ,KAAA,CAAAY;qBAGhD,IAAAP,WAAA,CAAAG,GAAA,EAAC;MAAKD,SAAA,EAAU;gBACd,iBAAAF,WAAA,CAAAG,GAAA,EAAC;QAAID,SAAA,EAAU;kBAEb,iBAAAF,WAAA,CAAAG,GAAA,EAACK,gBAAA,CAAAC,eAAe;UAACH,IAAA,EAAMZ;;;;;AAKjC","ignoreList":[]}