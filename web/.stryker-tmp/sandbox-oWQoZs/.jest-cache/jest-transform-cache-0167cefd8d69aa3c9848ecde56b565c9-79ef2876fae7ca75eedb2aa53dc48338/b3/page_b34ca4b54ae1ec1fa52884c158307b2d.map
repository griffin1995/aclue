{"version":3,"names":["cov_1zywc78lx3","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","default","DiscoverPage","dynamic","metadata","revalidate","title","description","keywords","openGraph","locale","robots","index","follow","getAuthenticationStatus","cookieStore","_headers","cookies","accessToken","get","value","error","console","getDiscoveryProducts","result","_products","getProducts","limit","success","data","getFallbackProducts","id","price","currency","image_url","brand","rating","isAuthenticated","products","Promise","all","length","_navigation","redirect","_jsxruntime","jsxs","className","jsx","_GuestNotice","GuestNotice","_DiscoverInterface","DiscoverInterface","initialProducts","sessionType"],"sources":["/home/jack/Documents/aclue-preprod/web/src/app/(shop)/discover/page.tsx"],"sourcesContent":["/**\n * Discover Page - Server Component (75% Server Components Target)\n *\n * Product discovery page using App Router with server-side rendering.\n * This page demonstrates the Phase 4 migration with 75% server components.\n *\n * Server Components (75%):\n * - Page layout and structure\n * - Initial product data fetching\n * - SEO metadata generation\n * - Authentication state checking\n * - Static content rendering\n *\n * Client Components (25%):\n * - Interactive swipe interface\n * - User preference recording\n * - Dynamic UI updates\n * - Mobile-specific interactions\n *\n * Features:\n * - Server-side product fetching with caching\n * - Progressive enhancement approach\n * - Responsive design\n * - Authentication-aware rendering\n * - SEO optimised with metadata\n */\n\nimport React from 'react';\nimport type { Metadata } from 'next';\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\nimport { getProducts } from '@/app/actions/products';\nimport { DiscoverInterface } from '@/components/shop/DiscoverInterface';\nimport { GuestNotice } from '@/components/shop/GuestNotice';\nimport { WelcomeOverlay } from '@/components/shop/WelcomeOverlay';\n\n// ==============================================================================\n// METADATA (SERVER-SIDE)\n// ==============================================================================\n\nexport const metadata: Metadata = {\n  title: 'Discover Gifts',\n  description: 'Discover amazing gifts by swiping through our curated collection. Train our AI to understand your preferences and get personalised recommendations.',\n  keywords: ['gift discovery', 'product recommendations', 'AI gifts', 'swipe interface', 'personalised shopping'],\n  openGraph: {\n    title: 'Discover Gifts | aclue',\n    description: 'Discover amazing gifts with AI-powered recommendations',\n    type: 'website',\n    locale: 'en_GB',\n  },\n  robots: {\n    index: false,\n    follow: false,\n  },\n};\n\n// ==============================================================================\n// TYPES\n// ==============================================================================\n\ninterface Product {\n  id: string;\n  title: string;\n  name?: string;\n  description: string;\n  price: number;\n  currency?: string;\n  image_url: string;\n  brand?: string;\n  category?: {\n    name: string;\n  };\n  rating?: number;\n  affiliate_url?: string;\n  url?: string;\n}\n\n// ==============================================================================\n// SERVER HELPER FUNCTIONS\n// ==============================================================================\n\n/**\n * Check authentication status server-side\n * Uses Next.js cookies() to access HTTP cookies on the server\n */\nasync function getAuthenticationStatus(): Promise<boolean> {\n  try {\n    const cookieStore = cookies();\n    const accessToken = cookieStore.get('access_token');\n    return !!accessToken?.value;\n  } catch (error) {\n    console.error('Error checking authentication:', error);\n    return false;\n  }\n}\n\n/**\n * Get discovery products with fallback\n * Server-side data fetching with error handling\n */\nasync function getDiscoveryProducts(): Promise<Product[]> {\n  try {\n    const result = await getProducts({ limit: 10 });\n\n    if (result.success && result.data) {\n      return result.data;\n    }\n\n    // Return fallback products if API fails\n    return getFallbackProducts();\n  } catch (error) {\n    console.error('Error fetching discovery products:', error);\n    return getFallbackProducts();\n  }\n}\n\n/**\n * Fallback products for development and error states\n */\nfunction getFallbackProducts(): Product[] {\n  return [\n    {\n      id: '1',\n      title: 'Wireless Bluetooth Headphones',\n      description: 'Premium noise-cancelling headphones with 30-hour battery life and crystal-clear audio quality.',\n      price: 79.99,\n      currency: 'GBP',\n      image_url: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=300&fit=crop',\n      brand: 'AudioTech',\n      rating: 4.8,\n    },\n    {\n      id: '2',\n      title: 'Artisan Coffee Blend Gift Set',\n      description: 'A curated collection of premium coffee beans from around the world, perfect for coffee enthusiasts.',\n      price: 45.00,\n      currency: 'GBP',\n      image_url: 'https://images.unsplash.com/photo-1514432324607-a09d9b4aefdd?w=400&h=300&fit=crop',\n      brand: 'RoastMaster',\n      rating: 4.9,\n    },\n    {\n      id: '3',\n      title: 'Smart Fitness Watch',\n      description: 'Track your health and fitness goals with this advanced smartwatch featuring heart rate monitoring.',\n      price: 199.99,\n      currency: 'GBP',\n      image_url: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=300&fit=crop',\n      brand: 'FitTech',\n      rating: 4.6,\n    },\n    {\n      id: '4',\n      title: 'Luxury Skincare Set',\n      description: 'Pamper yourself or a loved one with this premium skincare collection featuring natural ingredients.',\n      price: 89.99,\n      currency: 'GBP',\n      image_url: 'https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400&h=300&fit=crop',\n      brand: 'GlowLux',\n      rating: 4.7,\n    },\n    {\n      id: '5',\n      title: 'Succulent Garden Kit',\n      description: 'Everything you need to start your own beautiful succulent garden, including pots and soil.',\n      price: 32.50,\n      currency: 'GBP',\n      image_url: 'https://images.unsplash.com/photo-1459411621453-7b03977f4bfc?w=400&h=300&fit=crop',\n      brand: 'GreenThumb',\n      rating: 4.5,\n    },\n  ];\n}\n\n// ==============================================================================\n// SERVER COMPONENT PAGE\n// ==============================================================================\n\n/**\n * Discover Page Server Component\n *\n * This is the main server component that:\n * 1. Fetches data server-side\n * 2. Checks authentication\n * 3. Renders the page structure\n * 4. Passes data to client components\n */\nexport default async function DiscoverPage() {\n  // Server-side data fetching\n  const [isAuthenticated, products] = await Promise.all([\n    getAuthenticationStatus(),\n    getDiscoveryProducts(),\n  ]);\n\n  // Redirect if no products available (error state)\n  if (!products || products.length === 0) {\n    console.error('No products available for discovery');\n    redirect('/');\n  }\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      {/* Guest Notice - Server-rendered with client interactivity */}\n      {!isAuthenticated && <GuestNotice />}\n\n      {/* Main Discovery Interface - Client Component */}\n      <div className=\"flex-1 relative\">\n        <DiscoverInterface\n          initialProducts={products}\n          isAuthenticated={isAuthenticated}\n          sessionType=\"discovery\"\n        />\n      </div>\n\n      {/* Bottom Navigation Hint - Server Component */}\n      <div className=\"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4\">\n        <div className=\"max-w-7xl mx-auto text-center\">\n          <p className=\"text-sm text-gray-600\">\n            Use keyboard shortcuts:{' '}\n            <kbd className=\"px-2 py-1 bg-gray-100 rounded text-xs\">←</kbd> dislike,{' '}\n            <kbd className=\"px-2 py-1 bg-gray-100 rounded text-xs mx-1\">→</kbd> like,{' '}\n            <kbd className=\"px-2 py-1 bg-gray-100 rounded text-xs\">↑</kbd> super like,{' '}\n            <kbd className=\"px-2 py-1 bg-gray-100 rounded text-xs\">space</kbd> view product\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ==============================================================================\n// PERFORMANCE OPTIMIZATIONS\n// ==============================================================================\n\n/**\n * Enable static generation with ISR\n * This page will be statically generated and revalidated every 5 minutes\n */\nexport const revalidate = 300; // 5 minutes\n\n/**\n * Force dynamic rendering for authenticated content\n * This ensures user-specific content is handled correctly\n */\nexport const dynamic = 'force-dynamic';"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;GAyBC;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA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","ignoreList":[]}