a6bf25cfdb056a1b68b9f64632817e63
/**
 * aclue API Client
 * 
 * Centralised HTTP client for all backend API communication.
 * Provides type-safe methods for authentication, data fetching,
 * and real-time interactions with the aclue backend.
 * 
 * Key Features:
 *   - Automatic JWT token management with refresh
 *   - Request/response interceptors for auth and error handling
 *   - Type-safe API methods with full TypeScript support
 *   - Automatic retry logic for failed requests
 *   - Comprehensive error handling and user feedback
 * 
 * Architecture:
 *   - TokenManager: Secure storage and management of JWT tokens
 *   - ApiClient: Main HTTP client with interceptors and methods
 *   - Convenience exports: Simplified API for common operations
 * 
 * Usage:
 *   import { api } from '@/lib/api';
 *   const user = await api.getCurrentUser();
 *   const products = await api.getProducts({ category: 'electronics' });
 */ // ==============================================================================
// IMPORTS AND DEPENDENCIES
// ==============================================================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    api: function() {
        return api;
    },
    apiClient: function() {
        return apiClient;
    },
    default: function() {
        return _default;
    },
    tokenManager: function() {
        return tokenManager;
    }
});
const _axios = /*#__PURE__*/ _interop_require_default(require("axios"));
const _config = require("../config");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// ==============================================================================
// TOKEN MANAGEMENT
// ==============================================================================
// Singleton class for secure JWT token storage and management
/**
 * Secure JWT token manager with localStorage persistence.
 * 
 * Manages access and refresh tokens for API authentication:
 *   - Singleton pattern ensures consistent token state
 *   - Automatic localStorage synchronisation
 *   - Secure token cleanup on logout
 *   - Server-side rendering safe (checks for window)
 * 
 * Token Lifecycle:
 *   1. Tokens received from authentication endpoints
 *   2. Stored in localStorage and memory
 *   3. Access token used for API requests
 *   4. Refresh token used to renew expired access tokens
 *   5. Cleared on logout or authentication errors
 */ class TokenManager {
    /**
   * Get singleton TokenManager instance.
   * 
   * Creates new instance on first call and initialises tokens
   * from localStorage if available.
   * 
   * Returns:
   *   TokenManager: Singleton instance
   */ static getInstance() {
        if (!TokenManager.instance) {
            TokenManager.instance = new TokenManager();
            // Initialize tokens from localStorage on first creation
            TokenManager.instance.initializeFromStorage();
        }
        return TokenManager.instance;
    }
    /**
   * Initialise tokens from localStorage on browser load.
   * 
   * Safely checks for browser environment and loads previously
   * stored tokens into memory cache.
   * 
   * Note: Only runs in browser environment (SSR safe)
   */ initializeFromStorage() {
        if (typeof window !== "undefined") {
            this.accessToken = localStorage.getItem(_config.appConfig.storage.authToken);
            this.refreshToken = localStorage.getItem(_config.appConfig.storage.refreshToken);
        }
    }
    /**
   * Store new JWT tokens in memory and localStorage.
   * 
   * Updates both in-memory cache and persistent storage
   * for session continuity across browser reloads.
   * 
   * Parameters:
   *   accessToken: JWT access token for API requests
   *   refreshToken: JWT refresh token for session renewal
   */ setTokens(accessToken, refreshToken) {
        this.accessToken = accessToken;
        this.refreshToken = refreshToken;
        // Persist to localStorage for session continuity
        if (typeof window !== "undefined") {
            localStorage.setItem(_config.appConfig.storage.authToken, accessToken);
            localStorage.setItem(_config.appConfig.storage.refreshToken, refreshToken);
        }
    }
    /**
   * Retrieve current access token for API requests.
   * 
   * Checks memory cache first, then falls back to localStorage.
   * Returns null if no token is available.
   * 
   * Returns:
   *   string | null: Current access token or null if not available
   */ getAccessToken() {
        // Return cached token if available
        if (this.accessToken) return this.accessToken;
        // Fallback to localStorage (handles page reloads)
        if (typeof window !== "undefined") {
            return localStorage.getItem(_config.appConfig.storage.authToken);
        }
        return null;
    }
    /**
   * Retrieve current refresh token for session renewal.
   * 
   * Checks memory cache first, then falls back to localStorage.
   * Returns null if no token is available.
   * 
   * Returns:
   *   string | null: Current refresh token or null if not available
   */ getRefreshToken() {
        // Return cached token if available
        if (this.refreshToken) return this.refreshToken;
        // Fallback to localStorage (handles page reloads)
        if (typeof window !== "undefined") {
            return localStorage.getItem(_config.appConfig.storage.refreshToken);
        }
        return null;
    }
    /**
   * Clear all stored tokens and user data.
   * 
   * Removes tokens from both memory and localStorage.
   * Called during logout or authentication errors.
   * 
   * Security:
   *   - Clears all authentication-related data
   *   - Prevents token reuse after logout
   *   - Ensures clean state for new authentication
   */ clearTokens() {
        // Clear memory cache
        this.accessToken = null;
        this.refreshToken = null;
        // Clear persistent storage
        if (typeof window !== "undefined") {
            localStorage.removeItem(_config.appConfig.storage.authToken);
            localStorage.removeItem(_config.appConfig.storage.refreshToken);
            localStorage.removeItem(_config.appConfig.storage.user);
        }
    }
    constructor(){
        this.accessToken = null // In-memory access token cache
        ;
        this.refreshToken = null // In-memory refresh token cache
        ;
    }
}
// ==============================================================================
// API CLIENT
// ==============================================================================
// Main HTTP client with authentication and error handling
/**
 * Comprehensive HTTP client for aclue API communication.
 * 
 * Features:
 *   - Automatic JWT token attachment to requests
 *   - Token refresh on 401 errors with request retry
 *   - Consistent error handling and user feedback
 *   - Request/response interceptors for common patterns
 *   - Type-safe methods for all API endpoints
 * 
 * Request Flow:
 *   1. Add Authorization header with current access token
 *   2. Send request to backend API
 *   3. Handle successful response or error
 *   4. On 401 error: refresh token and retry original request
 *   5. On refresh failure: clear tokens and redirect to login
 */ class ApiClient {
    /**
   * Initialise API client with configuration and interceptors.
   * 
   * Sets up:
   *   - Base URL from configuration
   *   - Request/response timeouts
   *   - Default headers
   *   - Authentication and error interceptors
   */ constructor(){
        this.isRefreshing = false // Flag to prevent concurrent refresh attempts
        ;
        this.failedQueue = [];
        this.tokenManager = TokenManager.getInstance();
        // Create axios instance with base configuration
        this.client = _axios.default.create({
            baseURL: _config.config.apiUrl,
            timeout: 30000,
            headers: {
                "Content-Type": "application/json",
                "Accept": "application/json"
            }
        });
        // Set up request/response interceptors
        this.setupInterceptors();
    }
    /**
   * Set up request and response interceptors for authentication and error handling.
   * 
   * Request Interceptor:
   *   - Automatically adds Authorization header with current access token
   *   - Ensures all API requests are authenticated
   * 
   * Response Interceptor:
   *   - Handles 401 errors with automatic token refresh
   *   - Queues failed requests during refresh process
   *   - Retries original requests after successful refresh
   *   - Redirects to login on refresh failure
   */ setupInterceptors() {
        // ===========================================================================
        // REQUEST INTERCEPTOR: Add authentication token to all requests
        // ===========================================================================
        this.client.interceptors.request.use((config)=>{
            const token = this.tokenManager.getAccessToken();
            if (token && config.headers) {
                // Add Bearer token to Authorization header
                config.headers.Authorization = `Bearer ${token}`;
            }
            return config;
        }, (error)=>Promise.reject(error));
        // ===========================================================================
        // RESPONSE INTERCEPTOR: Handle authentication errors and token refresh
        // ===========================================================================
        this.client.interceptors.response.use((response)=>response, async (error)=>{
            const originalRequest = error.config;
            // Handle 401 Unauthorized errors with automatic token refresh
            if (error.response?.status === 401 && !originalRequest._retry) {
                // If already refreshing, queue this request
                if (this.isRefreshing) {
                    return new Promise((resolve, reject)=>{
                        this.failedQueue.push({
                            resolve,
                            reject
                        });
                    }).then((token)=>{
                        // Retry with new token
                        originalRequest.headers.Authorization = `Bearer ${token}`;
                        return this.client(originalRequest);
                    }).catch((err)=>{
                        return Promise.reject(err);
                    });
                }
                // Mark request as retry to prevent infinite loops
                originalRequest._retry = true;
                this.isRefreshing = true;
                try {
                    // Attempt to refresh the access token
                    const refreshToken = this.tokenManager.getRefreshToken();
                    if (!refreshToken) {
                        throw new Error("No refresh token available");
                    }
                    // Call refresh endpoint
                    const response = await this.refreshAccessToken({
                        refresh_token: refreshToken
                    });
                    const { access_token, refresh_token: newRefreshToken } = response.data;
                    // Store new tokens
                    this.tokenManager.setTokens(access_token, newRefreshToken);
                    // Process queued requests with new token
                    this.processQueue(access_token, null);
                    // Retry original request with new token
                    originalRequest.headers.Authorization = `Bearer ${access_token}`;
                    return this.client(originalRequest);
                } catch (refreshError) {
                    // Refresh failed - clear tokens and redirect to login
                    this.processQueue(null, refreshError);
                    this.tokenManager.clearTokens();
                    // Redirect to login if we're in the browser
                    if (typeof window !== "undefined") {
                        window.location.href = "/auth/login";
                    }
                    return Promise.reject(refreshError);
                } finally{
                    this.isRefreshing = false;
                }
            }
            // Handle other errors with consistent error formatting
            return Promise.reject(this.handleError(error));
        });
    }
    /**
   * Process queued requests after token refresh attempt.
   * 
   * During token refresh, multiple requests may fail with 401 errors.
   * These requests are queued and processed once refresh completes.
   * 
   * Parameters:
   *   token: New access token (null if refresh failed)
   *   error: Refresh error (null if refresh succeeded)
   */ processQueue(token, error) {
        this.failedQueue.forEach(({ resolve, reject })=>{
            if (error) {
                // Refresh failed - reject all queued requests
                reject(error);
            } else {
                // Refresh succeeded - resolve with new token
                resolve(token);
            }
        });
        // Clear the queue
        this.failedQueue = [];
    }
    /**
   * Convert axios errors to standardised ApiError format.
   * 
   * Provides consistent error handling across all API methods
   * with user-friendly messages and debugging information.
   * 
   * Error Types:
   *   - Response errors: Server returned error status (400, 500, etc.)
   *   - Network errors: Request failed to reach server
   *   - Request errors: Invalid request configuration
   * 
   * Parameters:
   *   error: Axios error object
   * 
   * Returns:
   *   ApiError: Standardised error with message, code, and details
   */ handleError(error) {
        const apiError = {
            message: _config.appConfig.errors.unknown,
            code: "UNKNOWN_ERROR",
            status: 500,
            timestamp: new Date().toISOString()
        };
        if (error.response) {
            // Server responded with error status (4xx, 5xx)
            apiError.status = error.response.status;
            apiError.message = error.response.data?.message || this.getErrorMessageByStatus(error.response.status);
            apiError.code = error.response.data?.code || `HTTP_${error.response.status}`;
            apiError.details = error.response.data?.details;
        } else if (error.request) {
            // Network error - request made but no response received
            apiError.message = _config.appConfig.errors.network;
            apiError.code = "NETWORK_ERROR";
            apiError.status = 0;
        } else {
            // Request setup error - something wrong with request configuration
            apiError.message = error.message || _config.appConfig.errors.unknown;
            apiError.code = "REQUEST_ERROR";
        }
        return apiError;
    }
    /**
   * Get user-friendly error message for HTTP status codes.
   * 
   * Maps common HTTP status codes to localised error messages
   * from application configuration.
   * 
   * Parameters:
   *   status: HTTP status code
   * 
   * Returns:
   *   string: User-friendly error message
   */ getErrorMessageByStatus(status) {
        switch(status){
            case 400:
                return _config.appConfig.errors.validation; // "Please check your input and try again"
            case 401:
                return _config.appConfig.errors.unauthorized; // "Please log in to continue"
            case 403:
                return _config.appConfig.errors.forbidden; // "You don't have permission to do this"
            case 404:
                return _config.appConfig.errors.notFound; // "The requested item was not found"
            case 500:
                return _config.appConfig.errors.server; // "Something went wrong on our end"
            default:
                return _config.appConfig.errors.unknown; // "An unexpected error occurred"
        }
    }
    // Generic request methods
    async get(url, config) {
        const response = await this.client.get(url, config);
        // Handle direct response from backend (not wrapped in ApiResponse)
        if (response.data && !response.data.hasOwnProperty("data")) {
            return {
                data: response.data,
                success: true
            };
        }
        return response.data;
    }
    async post(url, data, config) {
        const response = await this.client.post(url, data, config);
        // Handle direct response from backend (not wrapped in ApiResponse)
        if (response.data && !response.data.hasOwnProperty("data")) {
            return {
                data: response.data,
                success: true
            };
        }
        return response.data;
    }
    async put(url, data, config) {
        const response = await this.client.put(url, data, config);
        return response.data;
    }
    async patch(url, data, config) {
        const response = await this.client.patch(url, data, config);
        return response.data;
    }
    async delete(url, config) {
        const response = await this.client.delete(url, config);
        return response.data;
    }
    // Authentication methods
    async login(data) {
        return this.post(_config.endpoints.auth.login, data);
    }
    async register(data) {
        return this.post(_config.endpoints.auth.register, data);
    }
    async refreshAccessToken(data) {
        return this.post(_config.endpoints.auth.refresh, data);
    }
    async logout() {
        const response = await this.post(_config.endpoints.auth.logout);
        this.tokenManager.clearTokens();
        return response;
    }
    async getCurrentUser() {
        return this.get(_config.endpoints.auth.me);
    }
    async forgotPassword(email) {
        return this.post(_config.endpoints.auth.forgotPassword, {
            email
        });
    }
    async resetPassword(token, password) {
        return this.post(_config.endpoints.auth.resetPassword, {
            token,
            password
        });
    }
    async verifyEmail(token) {
        return this.post(_config.endpoints.auth.verifyEmail, {
            token
        });
    }
    // User methods
    async updateProfile(data) {
        return this.put(_config.endpoints.users.updateProfile, data);
    }
    async getUserPreferences() {
        return this.get(_config.endpoints.users.preferences);
    }
    async updateUserPreferences(data) {
        return this.put(_config.endpoints.users.preferences, data);
    }
    async getUserStatistics() {
        return this.get(_config.endpoints.users.statistics);
    }
    async deleteAccount() {
        return this.delete(_config.endpoints.users.deleteAccount);
    }
    // Product methods
    async getProducts(params) {
        return this.get(_config.endpoints.products.list, {
            params
        });
    }
    async searchProducts(query) {
        return this.post(_config.endpoints.products.search, query);
    }
    async getProduct(id) {
        return this.get(_config.endpoints.products.byId(id));
    }
    async getCategories() {
        return this.get(_config.endpoints.products.categories);
    }
    async getFeaturedProducts() {
        return this.get(_config.endpoints.products.featured);
    }
    async getTrendingProducts() {
        return this.get(_config.endpoints.products.trending);
    }
    async getProductsByCategory(categoryId, params) {
        return this.get(_config.endpoints.products.byCategory(categoryId), {
            params
        });
    }
    // Swipe methods
    async createSwipeSession(data) {
        return this.post(_config.endpoints.swipes.createSession, data);
    }
    async getCurrentSwipeSession() {
        return this.get(_config.endpoints.swipes.currentSession);
    }
    async recordSwipe(sessionId, data) {
        return this.post(_config.endpoints.swipes.interactions(sessionId), data);
    }
    async getSwipeAnalytics() {
        return this.get(_config.endpoints.swipes.analytics);
    }
    // Recommendation methods
    async generateRecommendations(data) {
        return this.post(_config.endpoints.recommendations.generate, data);
    }
    async getRecommendations(params) {
        return this.get(_config.endpoints.recommendations.list, {
            params
        });
    }
    async getRecommendation(id) {
        return this.get(_config.endpoints.recommendations.byId(id));
    }
    async provideFeedback(id, feedback) {
        return this.post(_config.endpoints.recommendations.feedback(id), feedback);
    }
    async refreshRecommendations() {
        return this.post(_config.endpoints.recommendations.refresh);
    }
    // Gift Link methods
    async createGiftLink(data) {
        return this.post(_config.endpoints.giftLinks.create, data);
    }
    async getGiftLinks() {
        return this.get(_config.endpoints.giftLinks.list);
    }
    async getGiftLink(id) {
        return this.get(_config.endpoints.giftLinks.byId(id));
    }
    async getGiftLinkByToken(token) {
        return this.get(_config.endpoints.giftLinks.byToken(token));
    }
    async deleteGiftLink(id) {
        return this.delete(_config.endpoints.giftLinks.delete(id));
    }
    async getGiftLinkAnalytics(id) {
        return this.get(_config.endpoints.giftLinks.analytics(id));
    }
    // Analytics methods
    async trackEvent(event) {
        return this.post(_config.endpoints.analytics.track, event);
    }
    async getAnalyticsDashboard() {
        return this.get(_config.endpoints.analytics.dashboard);
    }
    // Health check
    async healthCheck() {
        return this.get(_config.endpoints.health);
    }
}
const apiClient = new ApiClient();
const tokenManager = TokenManager.getInstance();
const api = {
    // Auth
    login: (data)=>apiClient.login(data),
    register: (data)=>apiClient.register(data),
    logout: ()=>apiClient.logout(),
    getCurrentUser: ()=>apiClient.getCurrentUser(),
    // Users
    getUserStatistics: ()=>apiClient.getUserStatistics(),
    // Products
    getProducts: (params)=>apiClient.getProducts(params),
    searchProducts: (query)=>apiClient.searchProducts(query),
    getProduct: (id)=>apiClient.getProduct(id),
    getCategories: ()=>apiClient.getCategories(),
    // Swipes
    createSwipeSession: (data)=>apiClient.createSwipeSession(data),
    recordSwipe: (sessionId, data)=>apiClient.recordSwipe(sessionId, data),
    // Recommendations
    generateRecommendations: (data)=>apiClient.generateRecommendations(data),
    getRecommendations: (params)=>apiClient.getRecommendations(params),
    // Gift Links
    createGiftLink: (data)=>apiClient.createGiftLink(data),
    getGiftLinks: ()=>apiClient.getGiftLinks(),
    getGiftLinkByToken: (token)=>apiClient.getGiftLinkByToken(token),
    // Analytics
    trackEvent: (event)=>apiClient.trackEvent(event)
};
const _default = apiClient;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2phY2svRG9jdW1lbnRzL2FjbHVlLXByZXByb2Qvd2ViL3NyYy9saWIvYXBpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogYWNsdWUgQVBJIENsaWVudFxuICogXG4gKiBDZW50cmFsaXNlZCBIVFRQIGNsaWVudCBmb3IgYWxsIGJhY2tlbmQgQVBJIGNvbW11bmljYXRpb24uXG4gKiBQcm92aWRlcyB0eXBlLXNhZmUgbWV0aG9kcyBmb3IgYXV0aGVudGljYXRpb24sIGRhdGEgZmV0Y2hpbmcsXG4gKiBhbmQgcmVhbC10aW1lIGludGVyYWN0aW9ucyB3aXRoIHRoZSBhY2x1ZSBiYWNrZW5kLlxuICogXG4gKiBLZXkgRmVhdHVyZXM6XG4gKiAgIC0gQXV0b21hdGljIEpXVCB0b2tlbiBtYW5hZ2VtZW50IHdpdGggcmVmcmVzaFxuICogICAtIFJlcXVlc3QvcmVzcG9uc2UgaW50ZXJjZXB0b3JzIGZvciBhdXRoIGFuZCBlcnJvciBoYW5kbGluZ1xuICogICAtIFR5cGUtc2FmZSBBUEkgbWV0aG9kcyB3aXRoIGZ1bGwgVHlwZVNjcmlwdCBzdXBwb3J0XG4gKiAgIC0gQXV0b21hdGljIHJldHJ5IGxvZ2ljIGZvciBmYWlsZWQgcmVxdWVzdHNcbiAqICAgLSBDb21wcmVoZW5zaXZlIGVycm9yIGhhbmRsaW5nIGFuZCB1c2VyIGZlZWRiYWNrXG4gKiBcbiAqIEFyY2hpdGVjdHVyZTpcbiAqICAgLSBUb2tlbk1hbmFnZXI6IFNlY3VyZSBzdG9yYWdlIGFuZCBtYW5hZ2VtZW50IG9mIEpXVCB0b2tlbnNcbiAqICAgLSBBcGlDbGllbnQ6IE1haW4gSFRUUCBjbGllbnQgd2l0aCBpbnRlcmNlcHRvcnMgYW5kIG1ldGhvZHNcbiAqICAgLSBDb252ZW5pZW5jZSBleHBvcnRzOiBTaW1wbGlmaWVkIEFQSSBmb3IgY29tbW9uIG9wZXJhdGlvbnNcbiAqIFxuICogVXNhZ2U6XG4gKiAgIGltcG9ydCB7IGFwaSB9IGZyb20gJ0AvbGliL2FwaSc7XG4gKiAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhcGkuZ2V0Q3VycmVudFVzZXIoKTtcbiAqICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBhcGkuZ2V0UHJvZHVjdHMoeyBjYXRlZ29yeTogJ2VsZWN0cm9uaWNzJyB9KTtcbiAqL1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIElNUE9SVFMgQU5EIERFUEVOREVOQ0lFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCBheGlvcywgeyBBeGlvc0luc3RhbmNlLCBBeGlvc1JlcXVlc3RDb25maWcsIEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBjb25maWcsIGVuZHBvaW50cywgYXBwQ29uZmlnIH0gZnJvbSAnQC9jb25maWcnO1xuaW1wb3J0IHsgXG4gIEFwaVJlc3BvbnNlLCBcbiAgUGFnaW5hdGVkUmVzcG9uc2UsIFxuICBBcGlFcnJvcixcbiAgQXV0aFJlc3BvbnNlLFxuICBMb2dpblJlcXVlc3QsXG4gIFJlZ2lzdGVyUmVxdWVzdCxcbiAgUmVmcmVzaFRva2VuUmVxdWVzdCxcbiAgVXNlcixcbiAgUHJvZHVjdCxcbiAgQ2F0ZWdvcnksXG4gIFNlYXJjaFF1ZXJ5LFxuICBTZWFyY2hSZXN1bHQsXG4gIFN3aXBlU2Vzc2lvbixcbiAgU3dpcGVSZXF1ZXN0LFxuICBTd2lwZUludGVyYWN0aW9uLFxuICBSZWNvbW1lbmRhdGlvbixcbiAgUmVjb21tZW5kYXRpb25SZXF1ZXN0LFxuICBSZWNvbW1lbmRhdGlvblJlc3BvbnNlLFxuICBHaWZ0TGluayxcbiAgQ3JlYXRlR2lmdExpbmtSZXF1ZXN0LFxuICBHaWZ0TGlua0ludGVyYWN0aW9uLFxuICBBbmFseXRpY3NFdmVudFxufSBmcm9tICdAL3R5cGVzJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUT0tFTiBNQU5BR0VNRU5UXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNpbmdsZXRvbiBjbGFzcyBmb3Igc2VjdXJlIEpXVCB0b2tlbiBzdG9yYWdlIGFuZCBtYW5hZ2VtZW50XG5cbi8qKlxuICogU2VjdXJlIEpXVCB0b2tlbiBtYW5hZ2VyIHdpdGggbG9jYWxTdG9yYWdlIHBlcnNpc3RlbmNlLlxuICogXG4gKiBNYW5hZ2VzIGFjY2VzcyBhbmQgcmVmcmVzaCB0b2tlbnMgZm9yIEFQSSBhdXRoZW50aWNhdGlvbjpcbiAqICAgLSBTaW5nbGV0b24gcGF0dGVybiBlbnN1cmVzIGNvbnNpc3RlbnQgdG9rZW4gc3RhdGVcbiAqICAgLSBBdXRvbWF0aWMgbG9jYWxTdG9yYWdlIHN5bmNocm9uaXNhdGlvblxuICogICAtIFNlY3VyZSB0b2tlbiBjbGVhbnVwIG9uIGxvZ291dFxuICogICAtIFNlcnZlci1zaWRlIHJlbmRlcmluZyBzYWZlIChjaGVja3MgZm9yIHdpbmRvdylcbiAqIFxuICogVG9rZW4gTGlmZWN5Y2xlOlxuICogICAxLiBUb2tlbnMgcmVjZWl2ZWQgZnJvbSBhdXRoZW50aWNhdGlvbiBlbmRwb2ludHNcbiAqICAgMi4gU3RvcmVkIGluIGxvY2FsU3RvcmFnZSBhbmQgbWVtb3J5XG4gKiAgIDMuIEFjY2VzcyB0b2tlbiB1c2VkIGZvciBBUEkgcmVxdWVzdHNcbiAqICAgNC4gUmVmcmVzaCB0b2tlbiB1c2VkIHRvIHJlbmV3IGV4cGlyZWQgYWNjZXNzIHRva2Vuc1xuICogICA1LiBDbGVhcmVkIG9uIGxvZ291dCBvciBhdXRoZW50aWNhdGlvbiBlcnJvcnNcbiAqL1xuY2xhc3MgVG9rZW5NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFRva2VuTWFuYWdlcjsgIC8vIFNpbmdsZXRvbiBpbnN0YW5jZVxuICBwcml2YXRlIGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDsgICAvLyBJbi1tZW1vcnkgYWNjZXNzIHRva2VuIGNhY2hlXG4gIHByaXZhdGUgcmVmcmVzaFRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDsgIC8vIEluLW1lbW9yeSByZWZyZXNoIHRva2VuIGNhY2hlXG5cbiAgLyoqXG4gICAqIEdldCBzaW5nbGV0b24gVG9rZW5NYW5hZ2VyIGluc3RhbmNlLlxuICAgKiBcbiAgICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb24gZmlyc3QgY2FsbCBhbmQgaW5pdGlhbGlzZXMgdG9rZW5zXG4gICAqIGZyb20gbG9jYWxTdG9yYWdlIGlmIGF2YWlsYWJsZS5cbiAgICogXG4gICAqIFJldHVybnM6XG4gICAqICAgVG9rZW5NYW5hZ2VyOiBTaW5nbGV0b24gaW5zdGFuY2VcbiAgICovXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBUb2tlbk1hbmFnZXIge1xuICAgIGlmICghVG9rZW5NYW5hZ2VyLmluc3RhbmNlKSB7XG4gICAgICBUb2tlbk1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgVG9rZW5NYW5hZ2VyKCk7XG4gICAgICAvLyBJbml0aWFsaXplIHRva2VucyBmcm9tIGxvY2FsU3RvcmFnZSBvbiBmaXJzdCBjcmVhdGlvblxuICAgICAgVG9rZW5NYW5hZ2VyLmluc3RhbmNlLmluaXRpYWxpemVGcm9tU3RvcmFnZSgpO1xuICAgIH1cbiAgICByZXR1cm4gVG9rZW5NYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpc2UgdG9rZW5zIGZyb20gbG9jYWxTdG9yYWdlIG9uIGJyb3dzZXIgbG9hZC5cbiAgICogXG4gICAqIFNhZmVseSBjaGVja3MgZm9yIGJyb3dzZXIgZW52aXJvbm1lbnQgYW5kIGxvYWRzIHByZXZpb3VzbHlcbiAgICogc3RvcmVkIHRva2VucyBpbnRvIG1lbW9yeSBjYWNoZS5cbiAgICogXG4gICAqIE5vdGU6IE9ubHkgcnVucyBpbiBicm93c2VyIGVudmlyb25tZW50IChTU1Igc2FmZSlcbiAgICovXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUZyb21TdG9yYWdlKCk6IHZvaWQge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGFwcENvbmZpZy5zdG9yYWdlLmF1dGhUb2tlbik7XG4gICAgICB0aGlzLnJlZnJlc2hUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGFwcENvbmZpZy5zdG9yYWdlLnJlZnJlc2hUb2tlbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlIG5ldyBKV1QgdG9rZW5zIGluIG1lbW9yeSBhbmQgbG9jYWxTdG9yYWdlLlxuICAgKiBcbiAgICogVXBkYXRlcyBib3RoIGluLW1lbW9yeSBjYWNoZSBhbmQgcGVyc2lzdGVudCBzdG9yYWdlXG4gICAqIGZvciBzZXNzaW9uIGNvbnRpbnVpdHkgYWNyb3NzIGJyb3dzZXIgcmVsb2Fkcy5cbiAgICogXG4gICAqIFBhcmFtZXRlcnM6XG4gICAqICAgYWNjZXNzVG9rZW46IEpXVCBhY2Nlc3MgdG9rZW4gZm9yIEFQSSByZXF1ZXN0c1xuICAgKiAgIHJlZnJlc2hUb2tlbjogSldUIHJlZnJlc2ggdG9rZW4gZm9yIHNlc3Npb24gcmVuZXdhbFxuICAgKi9cbiAgc2V0VG9rZW5zKGFjY2Vzc1Rva2VuOiBzdHJpbmcsIHJlZnJlc2hUb2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuO1xuICAgIHRoaXMucmVmcmVzaFRva2VuID0gcmVmcmVzaFRva2VuO1xuICAgIFxuICAgIC8vIFBlcnNpc3QgdG8gbG9jYWxTdG9yYWdlIGZvciBzZXNzaW9uIGNvbnRpbnVpdHlcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGFwcENvbmZpZy5zdG9yYWdlLmF1dGhUb2tlbiwgYWNjZXNzVG9rZW4pO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYXBwQ29uZmlnLnN0b3JhZ2UucmVmcmVzaFRva2VuLCByZWZyZXNoVG9rZW4pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBjdXJyZW50IGFjY2VzcyB0b2tlbiBmb3IgQVBJIHJlcXVlc3RzLlxuICAgKiBcbiAgICogQ2hlY2tzIG1lbW9yeSBjYWNoZSBmaXJzdCwgdGhlbiBmYWxscyBiYWNrIHRvIGxvY2FsU3RvcmFnZS5cbiAgICogUmV0dXJucyBudWxsIGlmIG5vIHRva2VuIGlzIGF2YWlsYWJsZS5cbiAgICogXG4gICAqIFJldHVybnM6XG4gICAqICAgc3RyaW5nIHwgbnVsbDogQ3VycmVudCBhY2Nlc3MgdG9rZW4gb3IgbnVsbCBpZiBub3QgYXZhaWxhYmxlXG4gICAqL1xuICBnZXRBY2Nlc3NUb2tlbigpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAvLyBSZXR1cm4gY2FjaGVkIHRva2VuIGlmIGF2YWlsYWJsZVxuICAgIGlmICh0aGlzLmFjY2Vzc1Rva2VuKSByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbjtcbiAgICBcbiAgICAvLyBGYWxsYmFjayB0byBsb2NhbFN0b3JhZ2UgKGhhbmRsZXMgcGFnZSByZWxvYWRzKVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGFwcENvbmZpZy5zdG9yYWdlLmF1dGhUb2tlbik7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGN1cnJlbnQgcmVmcmVzaCB0b2tlbiBmb3Igc2Vzc2lvbiByZW5ld2FsLlxuICAgKiBcbiAgICogQ2hlY2tzIG1lbW9yeSBjYWNoZSBmaXJzdCwgdGhlbiBmYWxscyBiYWNrIHRvIGxvY2FsU3RvcmFnZS5cbiAgICogUmV0dXJucyBudWxsIGlmIG5vIHRva2VuIGlzIGF2YWlsYWJsZS5cbiAgICogXG4gICAqIFJldHVybnM6XG4gICAqICAgc3RyaW5nIHwgbnVsbDogQ3VycmVudCByZWZyZXNoIHRva2VuIG9yIG51bGwgaWYgbm90IGF2YWlsYWJsZVxuICAgKi9cbiAgZ2V0UmVmcmVzaFRva2VuKCk6IHN0cmluZyB8IG51bGwge1xuICAgIC8vIFJldHVybiBjYWNoZWQgdG9rZW4gaWYgYXZhaWxhYmxlXG4gICAgaWYgKHRoaXMucmVmcmVzaFRva2VuKSByZXR1cm4gdGhpcy5yZWZyZXNoVG9rZW47XG4gICAgXG4gICAgLy8gRmFsbGJhY2sgdG8gbG9jYWxTdG9yYWdlIChoYW5kbGVzIHBhZ2UgcmVsb2FkcylcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhcHBDb25maWcuc3RvcmFnZS5yZWZyZXNoVG9rZW4pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgc3RvcmVkIHRva2VucyBhbmQgdXNlciBkYXRhLlxuICAgKiBcbiAgICogUmVtb3ZlcyB0b2tlbnMgZnJvbSBib3RoIG1lbW9yeSBhbmQgbG9jYWxTdG9yYWdlLlxuICAgKiBDYWxsZWQgZHVyaW5nIGxvZ291dCBvciBhdXRoZW50aWNhdGlvbiBlcnJvcnMuXG4gICAqIFxuICAgKiBTZWN1cml0eTpcbiAgICogICAtIENsZWFycyBhbGwgYXV0aGVudGljYXRpb24tcmVsYXRlZCBkYXRhXG4gICAqICAgLSBQcmV2ZW50cyB0b2tlbiByZXVzZSBhZnRlciBsb2dvdXRcbiAgICogICAtIEVuc3VyZXMgY2xlYW4gc3RhdGUgZm9yIG5ldyBhdXRoZW50aWNhdGlvblxuICAgKi9cbiAgY2xlYXJUb2tlbnMoKTogdm9pZCB7XG4gICAgLy8gQ2xlYXIgbWVtb3J5IGNhY2hlXG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IG51bGw7XG4gICAgdGhpcy5yZWZyZXNoVG9rZW4gPSBudWxsO1xuICAgIFxuICAgIC8vIENsZWFyIHBlcnNpc3RlbnQgc3RvcmFnZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYXBwQ29uZmlnLnN0b3JhZ2UuYXV0aFRva2VuKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGFwcENvbmZpZy5zdG9yYWdlLnJlZnJlc2hUb2tlbik7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShhcHBDb25maWcuc3RvcmFnZS51c2VyKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBUEkgQ0xJRU5UXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1haW4gSFRUUCBjbGllbnQgd2l0aCBhdXRoZW50aWNhdGlvbiBhbmQgZXJyb3IgaGFuZGxpbmdcblxuLyoqXG4gKiBDb21wcmVoZW5zaXZlIEhUVFAgY2xpZW50IGZvciBhY2x1ZSBBUEkgY29tbXVuaWNhdGlvbi5cbiAqIFxuICogRmVhdHVyZXM6XG4gKiAgIC0gQXV0b21hdGljIEpXVCB0b2tlbiBhdHRhY2htZW50IHRvIHJlcXVlc3RzXG4gKiAgIC0gVG9rZW4gcmVmcmVzaCBvbiA0MDEgZXJyb3JzIHdpdGggcmVxdWVzdCByZXRyeVxuICogICAtIENvbnNpc3RlbnQgZXJyb3IgaGFuZGxpbmcgYW5kIHVzZXIgZmVlZGJhY2tcbiAqICAgLSBSZXF1ZXN0L3Jlc3BvbnNlIGludGVyY2VwdG9ycyBmb3IgY29tbW9uIHBhdHRlcm5zXG4gKiAgIC0gVHlwZS1zYWZlIG1ldGhvZHMgZm9yIGFsbCBBUEkgZW5kcG9pbnRzXG4gKiBcbiAqIFJlcXVlc3QgRmxvdzpcbiAqICAgMS4gQWRkIEF1dGhvcml6YXRpb24gaGVhZGVyIHdpdGggY3VycmVudCBhY2Nlc3MgdG9rZW5cbiAqICAgMi4gU2VuZCByZXF1ZXN0IHRvIGJhY2tlbmQgQVBJXG4gKiAgIDMuIEhhbmRsZSBzdWNjZXNzZnVsIHJlc3BvbnNlIG9yIGVycm9yXG4gKiAgIDQuIE9uIDQwMSBlcnJvcjogcmVmcmVzaCB0b2tlbiBhbmQgcmV0cnkgb3JpZ2luYWwgcmVxdWVzdFxuICogICA1LiBPbiByZWZyZXNoIGZhaWx1cmU6IGNsZWFyIHRva2VucyBhbmQgcmVkaXJlY3QgdG8gbG9naW5cbiAqL1xuY2xhc3MgQXBpQ2xpZW50IHtcbiAgcHJpdmF0ZSBjbGllbnQ6IEF4aW9zSW5zdGFuY2U7ICAgICAgLy8gQXhpb3MgSFRUUCBjbGllbnQgaW5zdGFuY2VcbiAgcHJpdmF0ZSB0b2tlbk1hbmFnZXI6IFRva2VuTWFuYWdlcjsgLy8gVG9rZW4gc3RvcmFnZSBhbmQgbWFuYWdlbWVudFxuICBwcml2YXRlIGlzUmVmcmVzaGluZyA9IGZhbHNlOyAgICAgICAvLyBGbGFnIHRvIHByZXZlbnQgY29uY3VycmVudCByZWZyZXNoIGF0dGVtcHRzXG4gIHByaXZhdGUgZmFpbGVkUXVldWU6IEFycmF5PHsgICAgICAgIC8vIFF1ZXVlIGZvciByZXF1ZXN0cyB3YWl0aW5nIG9uIHRva2VuIHJlZnJlc2hcbiAgICByZXNvbHZlOiAodmFsdWU6IGFueSkgPT4gdm9pZDtcbiAgICByZWplY3Q6IChlcnJvcjogYW55KSA9PiB2b2lkO1xuICB9PiA9IFtdO1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlIEFQSSBjbGllbnQgd2l0aCBjb25maWd1cmF0aW9uIGFuZCBpbnRlcmNlcHRvcnMuXG4gICAqIFxuICAgKiBTZXRzIHVwOlxuICAgKiAgIC0gQmFzZSBVUkwgZnJvbSBjb25maWd1cmF0aW9uXG4gICAqICAgLSBSZXF1ZXN0L3Jlc3BvbnNlIHRpbWVvdXRzXG4gICAqICAgLSBEZWZhdWx0IGhlYWRlcnNcbiAgICogICAtIEF1dGhlbnRpY2F0aW9uIGFuZCBlcnJvciBpbnRlcmNlcHRvcnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudG9rZW5NYW5hZ2VyID0gVG9rZW5NYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGF4aW9zIGluc3RhbmNlIHdpdGggYmFzZSBjb25maWd1cmF0aW9uXG4gICAgdGhpcy5jbGllbnQgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgYmFzZVVSTDogY29uZmlnLmFwaVVybCwgICAgICAgICAgICAgIC8vIEJhY2tlbmQgQVBJIGJhc2UgVVJMXG4gICAgICB0aW1lb3V0OiAzMDAwMCwgICAgICAgICAgICAgICAgICAgICAgLy8gMzAgc2Vjb25kIHRpbWVvdXQgZm9yIHJlcXVlc3RzXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsIC8vIEpTT04gcmVxdWVzdCBib2R5IGZvcm1hdFxuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLCAgICAgICAvLyBFeHBlY3RlZCByZXNwb25zZSBmb3JtYXRcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBTZXQgdXAgcmVxdWVzdC9yZXNwb25zZSBpbnRlcmNlcHRvcnNcbiAgICB0aGlzLnNldHVwSW50ZXJjZXB0b3JzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIHJlcXVlc3QgYW5kIHJlc3BvbnNlIGludGVyY2VwdG9ycyBmb3IgYXV0aGVudGljYXRpb24gYW5kIGVycm9yIGhhbmRsaW5nLlxuICAgKiBcbiAgICogUmVxdWVzdCBJbnRlcmNlcHRvcjpcbiAgICogICAtIEF1dG9tYXRpY2FsbHkgYWRkcyBBdXRob3JpemF0aW9uIGhlYWRlciB3aXRoIGN1cnJlbnQgYWNjZXNzIHRva2VuXG4gICAqICAgLSBFbnN1cmVzIGFsbCBBUEkgcmVxdWVzdHMgYXJlIGF1dGhlbnRpY2F0ZWRcbiAgICogXG4gICAqIFJlc3BvbnNlIEludGVyY2VwdG9yOlxuICAgKiAgIC0gSGFuZGxlcyA0MDEgZXJyb3JzIHdpdGggYXV0b21hdGljIHRva2VuIHJlZnJlc2hcbiAgICogICAtIFF1ZXVlcyBmYWlsZWQgcmVxdWVzdHMgZHVyaW5nIHJlZnJlc2ggcHJvY2Vzc1xuICAgKiAgIC0gUmV0cmllcyBvcmlnaW5hbCByZXF1ZXN0cyBhZnRlciBzdWNjZXNzZnVsIHJlZnJlc2hcbiAgICogICAtIFJlZGlyZWN0cyB0byBsb2dpbiBvbiByZWZyZXNoIGZhaWx1cmVcbiAgICovXG4gIHByaXZhdGUgc2V0dXBJbnRlcmNlcHRvcnMoKTogdm9pZCB7XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUkVRVUVTVCBJTlRFUkNFUFRPUjogQWRkIGF1dGhlbnRpY2F0aW9uIHRva2VuIHRvIGFsbCByZXF1ZXN0c1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIHRoaXMuY2xpZW50LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShcbiAgICAgIChjb25maWcpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLnRva2VuTWFuYWdlci5nZXRBY2Nlc3NUb2tlbigpO1xuICAgICAgICBpZiAodG9rZW4gJiYgY29uZmlnLmhlYWRlcnMpIHtcbiAgICAgICAgICAvLyBBZGQgQmVhcmVyIHRva2VuIHRvIEF1dGhvcml6YXRpb24gaGVhZGVyXG4gICAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiBQcm9taXNlLnJlamVjdChlcnJvcilcbiAgICApO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUkVTUE9OU0UgSU5URVJDRVBUT1I6IEhhbmRsZSBhdXRoZW50aWNhdGlvbiBlcnJvcnMgYW5kIHRva2VuIHJlZnJlc2hcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICB0aGlzLmNsaWVudC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKFxuICAgICAgKHJlc3BvbnNlKSA9PiByZXNwb25zZSwgLy8gUGFzcyB0aHJvdWdoIHN1Y2Nlc3NmdWwgcmVzcG9uc2VzXG4gICAgICBhc3luYyAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxSZXF1ZXN0ID0gZXJyb3IuY29uZmlnO1xuXG4gICAgICAgIC8vIEhhbmRsZSA0MDEgVW5hdXRob3JpemVkIGVycm9ycyB3aXRoIGF1dG9tYXRpYyB0b2tlbiByZWZyZXNoXG4gICAgICAgIGlmIChlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDEgJiYgIW9yaWdpbmFsUmVxdWVzdC5fcmV0cnkpIHtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBhbHJlYWR5IHJlZnJlc2hpbmcsIHF1ZXVlIHRoaXMgcmVxdWVzdFxuICAgICAgICAgIGlmICh0aGlzLmlzUmVmcmVzaGluZykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5mYWlsZWRRdWV1ZS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuICAgICAgICAgICAgfSkudGhlbigodG9rZW4pID0+IHtcbiAgICAgICAgICAgICAgLy8gUmV0cnkgd2l0aCBuZXcgdG9rZW5cbiAgICAgICAgICAgICAgb3JpZ2luYWxSZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQob3JpZ2luYWxSZXF1ZXN0KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNYXJrIHJlcXVlc3QgYXMgcmV0cnkgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuICAgICAgICAgIG9yaWdpbmFsUmVxdWVzdC5fcmV0cnkgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuaXNSZWZyZXNoaW5nID0gdHJ1ZTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRvIHJlZnJlc2ggdGhlIGFjY2VzcyB0b2tlblxuICAgICAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gdGhpcy50b2tlbk1hbmFnZXIuZ2V0UmVmcmVzaFRva2VuKCk7XG4gICAgICAgICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlZnJlc2ggdG9rZW4gYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENhbGwgcmVmcmVzaCBlbmRwb2ludFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlZnJlc2hBY2Nlc3NUb2tlbih7IHJlZnJlc2hfdG9rZW46IHJlZnJlc2hUb2tlbiB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgYWNjZXNzX3Rva2VuLCByZWZyZXNoX3Rva2VuOiBuZXdSZWZyZXNoVG9rZW4gfSA9IHJlc3BvbnNlLmRhdGE7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIG5ldyB0b2tlbnNcbiAgICAgICAgICAgIHRoaXMudG9rZW5NYW5hZ2VyLnNldFRva2VucyhhY2Nlc3NfdG9rZW4sIG5ld1JlZnJlc2hUb2tlbik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgcXVldWVkIHJlcXVlc3RzIHdpdGggbmV3IHRva2VuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZShhY2Nlc3NfdG9rZW4sIG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZXRyeSBvcmlnaW5hbCByZXF1ZXN0IHdpdGggbmV3IHRva2VuXG4gICAgICAgICAgICBvcmlnaW5hbFJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke2FjY2Vzc190b2tlbn1gO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50KG9yaWdpbmFsUmVxdWVzdCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICB9IGNhdGNoIChyZWZyZXNoRXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFJlZnJlc2ggZmFpbGVkIC0gY2xlYXIgdG9rZW5zIGFuZCByZWRpcmVjdCB0byBsb2dpblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUXVldWUobnVsbCwgcmVmcmVzaEVycm9yKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW5NYW5hZ2VyLmNsZWFyVG9rZW5zKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIGlmIHdlJ3JlIGluIHRoZSBicm93c2VyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2F1dGgvbG9naW4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVmcmVzaEVycm9yKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5pc1JlZnJlc2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgb3RoZXIgZXJyb3JzIHdpdGggY29uc2lzdGVudCBlcnJvciBmb3JtYXR0aW5nXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzIHF1ZXVlZCByZXF1ZXN0cyBhZnRlciB0b2tlbiByZWZyZXNoIGF0dGVtcHQuXG4gICAqIFxuICAgKiBEdXJpbmcgdG9rZW4gcmVmcmVzaCwgbXVsdGlwbGUgcmVxdWVzdHMgbWF5IGZhaWwgd2l0aCA0MDEgZXJyb3JzLlxuICAgKiBUaGVzZSByZXF1ZXN0cyBhcmUgcXVldWVkIGFuZCBwcm9jZXNzZWQgb25jZSByZWZyZXNoIGNvbXBsZXRlcy5cbiAgICogXG4gICAqIFBhcmFtZXRlcnM6XG4gICAqICAgdG9rZW46IE5ldyBhY2Nlc3MgdG9rZW4gKG51bGwgaWYgcmVmcmVzaCBmYWlsZWQpXG4gICAqICAgZXJyb3I6IFJlZnJlc2ggZXJyb3IgKG51bGwgaWYgcmVmcmVzaCBzdWNjZWVkZWQpXG4gICAqL1xuICBwcml2YXRlIHByb2Nlc3NRdWV1ZSh0b2tlbjogc3RyaW5nIHwgbnVsbCwgZXJyb3I6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuZmFpbGVkUXVldWUuZm9yRWFjaCgoeyByZXNvbHZlLCByZWplY3QgfSkgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIC8vIFJlZnJlc2ggZmFpbGVkIC0gcmVqZWN0IGFsbCBxdWV1ZWQgcmVxdWVzdHNcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZnJlc2ggc3VjY2VlZGVkIC0gcmVzb2x2ZSB3aXRoIG5ldyB0b2tlblxuICAgICAgICByZXNvbHZlKHRva2VuKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBDbGVhciB0aGUgcXVldWVcbiAgICB0aGlzLmZhaWxlZFF1ZXVlID0gW107XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBheGlvcyBlcnJvcnMgdG8gc3RhbmRhcmRpc2VkIEFwaUVycm9yIGZvcm1hdC5cbiAgICogXG4gICAqIFByb3ZpZGVzIGNvbnNpc3RlbnQgZXJyb3IgaGFuZGxpbmcgYWNyb3NzIGFsbCBBUEkgbWV0aG9kc1xuICAgKiB3aXRoIHVzZXItZnJpZW5kbHkgbWVzc2FnZXMgYW5kIGRlYnVnZ2luZyBpbmZvcm1hdGlvbi5cbiAgICogXG4gICAqIEVycm9yIFR5cGVzOlxuICAgKiAgIC0gUmVzcG9uc2UgZXJyb3JzOiBTZXJ2ZXIgcmV0dXJuZWQgZXJyb3Igc3RhdHVzICg0MDAsIDUwMCwgZXRjLilcbiAgICogICAtIE5ldHdvcmsgZXJyb3JzOiBSZXF1ZXN0IGZhaWxlZCB0byByZWFjaCBzZXJ2ZXJcbiAgICogICAtIFJlcXVlc3QgZXJyb3JzOiBJbnZhbGlkIHJlcXVlc3QgY29uZmlndXJhdGlvblxuICAgKiBcbiAgICogUGFyYW1ldGVyczpcbiAgICogICBlcnJvcjogQXhpb3MgZXJyb3Igb2JqZWN0XG4gICAqIFxuICAgKiBSZXR1cm5zOlxuICAgKiAgIEFwaUVycm9yOiBTdGFuZGFyZGlzZWQgZXJyb3Igd2l0aCBtZXNzYWdlLCBjb2RlLCBhbmQgZGV0YWlsc1xuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogYW55KTogQXBpRXJyb3Ige1xuICAgIGNvbnN0IGFwaUVycm9yOiBBcGlFcnJvciA9IHtcbiAgICAgIG1lc3NhZ2U6IGFwcENvbmZpZy5lcnJvcnMudW5rbm93bixcbiAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcbiAgICAgIHN0YXR1czogNTAwLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfTtcblxuICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgICAgLy8gU2VydmVyIHJlc3BvbmRlZCB3aXRoIGVycm9yIHN0YXR1cyAoNHh4LCA1eHgpXG4gICAgICBhcGlFcnJvci5zdGF0dXMgPSBlcnJvci5yZXNwb25zZS5zdGF0dXM7XG4gICAgICBhcGlFcnJvci5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YT8ubWVzc2FnZSB8fCB0aGlzLmdldEVycm9yTWVzc2FnZUJ5U3RhdHVzKGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICBhcGlFcnJvci5jb2RlID0gZXJyb3IucmVzcG9uc2UuZGF0YT8uY29kZSB8fCBgSFRUUF8ke2Vycm9yLnJlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgYXBpRXJyb3IuZGV0YWlscyA9IGVycm9yLnJlc3BvbnNlLmRhdGE/LmRldGFpbHM7XG4gICAgfSBlbHNlIGlmIChlcnJvci5yZXF1ZXN0KSB7XG4gICAgICAvLyBOZXR3b3JrIGVycm9yIC0gcmVxdWVzdCBtYWRlIGJ1dCBubyByZXNwb25zZSByZWNlaXZlZFxuICAgICAgYXBpRXJyb3IubWVzc2FnZSA9IGFwcENvbmZpZy5lcnJvcnMubmV0d29yaztcbiAgICAgIGFwaUVycm9yLmNvZGUgPSAnTkVUV09SS19FUlJPUic7XG4gICAgICBhcGlFcnJvci5zdGF0dXMgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXF1ZXN0IHNldHVwIGVycm9yIC0gc29tZXRoaW5nIHdyb25nIHdpdGggcmVxdWVzdCBjb25maWd1cmF0aW9uXG4gICAgICBhcGlFcnJvci5tZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCBhcHBDb25maWcuZXJyb3JzLnVua25vd247XG4gICAgICBhcGlFcnJvci5jb2RlID0gJ1JFUVVFU1RfRVJST1InO1xuICAgIH1cblxuICAgIHJldHVybiBhcGlFcnJvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdXNlci1mcmllbmRseSBlcnJvciBtZXNzYWdlIGZvciBIVFRQIHN0YXR1cyBjb2Rlcy5cbiAgICogXG4gICAqIE1hcHMgY29tbW9uIEhUVFAgc3RhdHVzIGNvZGVzIHRvIGxvY2FsaXNlZCBlcnJvciBtZXNzYWdlc1xuICAgKiBmcm9tIGFwcGxpY2F0aW9uIGNvbmZpZ3VyYXRpb24uXG4gICAqIFxuICAgKiBQYXJhbWV0ZXJzOlxuICAgKiAgIHN0YXR1czogSFRUUCBzdGF0dXMgY29kZVxuICAgKiBcbiAgICogUmV0dXJuczpcbiAgICogICBzdHJpbmc6IFVzZXItZnJpZW5kbHkgZXJyb3IgbWVzc2FnZVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRFcnJvck1lc3NhZ2VCeVN0YXR1cyhzdGF0dXM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgNDAwOlxuICAgICAgICByZXR1cm4gYXBwQ29uZmlnLmVycm9ycy52YWxpZGF0aW9uOyAgIC8vIFwiUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXQgYW5kIHRyeSBhZ2FpblwiXG4gICAgICBjYXNlIDQwMTpcbiAgICAgICAgcmV0dXJuIGFwcENvbmZpZy5lcnJvcnMudW5hdXRob3JpemVkOyAvLyBcIlBsZWFzZSBsb2cgaW4gdG8gY29udGludWVcIlxuICAgICAgY2FzZSA0MDM6XG4gICAgICAgIHJldHVybiBhcHBDb25maWcuZXJyb3JzLmZvcmJpZGRlbjsgICAgLy8gXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGRvIHRoaXNcIlxuICAgICAgY2FzZSA0MDQ6XG4gICAgICAgIHJldHVybiBhcHBDb25maWcuZXJyb3JzLm5vdEZvdW5kOyAgICAgLy8gXCJUaGUgcmVxdWVzdGVkIGl0ZW0gd2FzIG5vdCBmb3VuZFwiXG4gICAgICBjYXNlIDUwMDpcbiAgICAgICAgcmV0dXJuIGFwcENvbmZpZy5lcnJvcnMuc2VydmVyOyAgICAgICAvLyBcIlNvbWV0aGluZyB3ZW50IHdyb25nIG9uIG91ciBlbmRcIlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGFwcENvbmZpZy5lcnJvcnMudW5rbm93bjsgICAgICAvLyBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIlxuICAgIH1cbiAgfVxuXG4gIC8vIEdlbmVyaWMgcmVxdWVzdCBtZXRob2RzXG4gIGFzeW5jIGdldDxUID0gYW55Pih1cmw6IHN0cmluZywgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPGFueT4gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodXJsLCBjb25maWcpO1xuICAgIC8vIEhhbmRsZSBkaXJlY3QgcmVzcG9uc2UgZnJvbSBiYWNrZW5kIChub3Qgd3JhcHBlZCBpbiBBcGlSZXNwb25zZSlcbiAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiAhcmVzcG9uc2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpKSB7XG4gICAgICByZXR1cm4geyBkYXRhOiByZXNwb25zZS5kYXRhLCBzdWNjZXNzOiB0cnVlIH07XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9XG5cbiAgYXN5bmMgcG9zdDxUID0gYW55Pih1cmw6IHN0cmluZywgZGF0YT86IGFueSwgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPGFueT4gPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KHVybCwgZGF0YSwgY29uZmlnKTtcbiAgICAvLyBIYW5kbGUgZGlyZWN0IHJlc3BvbnNlIGZyb20gYmFja2VuZCAobm90IHdyYXBwZWQgaW4gQXBpUmVzcG9uc2UpXG4gICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgIXJlc3BvbnNlLmRhdGEuaGFzT3duUHJvcGVydHkoJ2RhdGEnKSkge1xuICAgICAgcmV0dXJuIHsgZGF0YTogcmVzcG9uc2UuZGF0YSwgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxuXG4gIGFzeW5jIHB1dDxUID0gYW55Pih1cmw6IHN0cmluZywgZGF0YT86IGFueSwgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPEFwaVJlc3BvbnNlPFQ+PiA9IGF3YWl0IHRoaXMuY2xpZW50LnB1dCh1cmwsIGRhdGEsIGNvbmZpZyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH1cblxuICBhc3luYyBwYXRjaDxUID0gYW55Pih1cmw6IHN0cmluZywgZGF0YT86IGFueSwgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPEFwaVJlc3BvbnNlPFQ+PiA9IGF3YWl0IHRoaXMuY2xpZW50LnBhdGNoKHVybCwgZGF0YSwgY29uZmlnKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZTxUID0gYW55Pih1cmw6IHN0cmluZywgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPEFwaVJlc3BvbnNlPFQ+PiA9IGF3YWl0IHRoaXMuY2xpZW50LmRlbGV0ZSh1cmwsIGNvbmZpZyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH1cblxuICAvLyBBdXRoZW50aWNhdGlvbiBtZXRob2RzXG4gIGFzeW5jIGxvZ2luKGRhdGE6IExvZ2luUmVxdWVzdCk6IFByb21pc2U8QXBpUmVzcG9uc2U8QXV0aFJlc3BvbnNlPj4ge1xuICAgIHJldHVybiB0aGlzLnBvc3Q8QXV0aFJlc3BvbnNlPihlbmRwb2ludHMuYXV0aC5sb2dpbiwgZGF0YSk7XG4gIH1cblxuICBhc3luYyByZWdpc3RlcihkYXRhOiBSZWdpc3RlclJlcXVlc3QpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEF1dGhSZXNwb25zZT4+IHtcbiAgICByZXR1cm4gdGhpcy5wb3N0PEF1dGhSZXNwb25zZT4oZW5kcG9pbnRzLmF1dGgucmVnaXN0ZXIsIGRhdGEpO1xuICB9XG5cbiAgYXN5bmMgcmVmcmVzaEFjY2Vzc1Rva2VuKGRhdGE6IFJlZnJlc2hUb2tlblJlcXVlc3QpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEF1dGhSZXNwb25zZT4+IHtcbiAgICByZXR1cm4gdGhpcy5wb3N0PEF1dGhSZXNwb25zZT4oZW5kcG9pbnRzLmF1dGgucmVmcmVzaCwgZGF0YSk7XG4gIH1cblxuICBhc3luYyBsb2dvdXQoKTogUHJvbWlzZTxBcGlSZXNwb25zZTx2b2lkPj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0PHZvaWQ+KGVuZHBvaW50cy5hdXRoLmxvZ291dCk7XG4gICAgdGhpcy50b2tlbk1hbmFnZXIuY2xlYXJUb2tlbnMoKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICBhc3luYyBnZXRDdXJyZW50VXNlcigpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFVzZXI+PiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0PFVzZXI+KGVuZHBvaW50cy5hdXRoLm1lKTtcbiAgfVxuXG4gIGFzeW5jIGZvcmdvdFBhc3N3b3JkKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPHZvaWQ+PiB7XG4gICAgcmV0dXJuIHRoaXMucG9zdDx2b2lkPihlbmRwb2ludHMuYXV0aC5mb3Jnb3RQYXNzd29yZCwgeyBlbWFpbCB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlc2V0UGFzc3dvcmQodG9rZW46IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+IHtcbiAgICByZXR1cm4gdGhpcy5wb3N0PHZvaWQ+KGVuZHBvaW50cy5hdXRoLnJlc2V0UGFzc3dvcmQsIHsgdG9rZW4sIHBhc3N3b3JkIH0pO1xuICB9XG5cbiAgYXN5bmMgdmVyaWZ5RW1haWwodG9rZW46IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+IHtcbiAgICByZXR1cm4gdGhpcy5wb3N0PHZvaWQ+KGVuZHBvaW50cy5hdXRoLnZlcmlmeUVtYWlsLCB7IHRva2VuIH0pO1xuICB9XG5cbiAgLy8gVXNlciBtZXRob2RzXG4gIGFzeW5jIHVwZGF0ZVByb2ZpbGUoZGF0YTogUGFydGlhbDxVc2VyPik6IFByb21pc2U8QXBpUmVzcG9uc2U8VXNlcj4+IHtcbiAgICByZXR1cm4gdGhpcy5wdXQ8VXNlcj4oZW5kcG9pbnRzLnVzZXJzLnVwZGF0ZVByb2ZpbGUsIGRhdGEpO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlclByZWZlcmVuY2VzKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8YW55Pj4ge1xuICAgIHJldHVybiB0aGlzLmdldChlbmRwb2ludHMudXNlcnMucHJlZmVyZW5jZXMpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlVXNlclByZWZlcmVuY2VzKGRhdGE6IGFueSk6IFByb21pc2U8QXBpUmVzcG9uc2U8YW55Pj4ge1xuICAgIHJldHVybiB0aGlzLnB1dChlbmRwb2ludHMudXNlcnMucHJlZmVyZW5jZXMsIGRhdGEpO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlclN0YXRpc3RpY3MoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxhbnk+PiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGVuZHBvaW50cy51c2Vycy5zdGF0aXN0aWNzKTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUFjY291bnQoKTogUHJvbWlzZTxBcGlSZXNwb25zZTx2b2lkPj4ge1xuICAgIHJldHVybiB0aGlzLmRlbGV0ZTx2b2lkPihlbmRwb2ludHMudXNlcnMuZGVsZXRlQWNjb3VudCk7XG4gIH1cblxuICAvLyBQcm9kdWN0IG1ldGhvZHNcbiAgYXN5bmMgZ2V0UHJvZHVjdHMocGFyYW1zPzogYW55KTogUHJvbWlzZTxBcGlSZXNwb25zZTxQcm9kdWN0W10+PiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0PFByb2R1Y3RbXT4oZW5kcG9pbnRzLnByb2R1Y3RzLmxpc3QsIHsgcGFyYW1zIH0pO1xuICB9XG5cbiAgYXN5bmMgc2VhcmNoUHJvZHVjdHMocXVlcnk6IFNlYXJjaFF1ZXJ5KTogUHJvbWlzZTxBcGlSZXNwb25zZTxTZWFyY2hSZXN1bHQ+PiB7XG4gICAgcmV0dXJuIHRoaXMucG9zdDxTZWFyY2hSZXN1bHQ+KGVuZHBvaW50cy5wcm9kdWN0cy5zZWFyY2gsIHF1ZXJ5KTtcbiAgfVxuXG4gIGFzeW5jIGdldFByb2R1Y3QoaWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8UHJvZHVjdD4+IHtcbiAgICByZXR1cm4gdGhpcy5nZXQ8UHJvZHVjdD4oZW5kcG9pbnRzLnByb2R1Y3RzLmJ5SWQoaWQpKTtcbiAgfVxuXG4gIGFzeW5jIGdldENhdGVnb3JpZXMoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxDYXRlZ29yeVtdPj4ge1xuICAgIHJldHVybiB0aGlzLmdldDxDYXRlZ29yeVtdPihlbmRwb2ludHMucHJvZHVjdHMuY2F0ZWdvcmllcyk7XG4gIH1cblxuICBhc3luYyBnZXRGZWF0dXJlZFByb2R1Y3RzKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8UHJvZHVjdFtdPj4ge1xuICAgIHJldHVybiB0aGlzLmdldDxQcm9kdWN0W10+KGVuZHBvaW50cy5wcm9kdWN0cy5mZWF0dXJlZCk7XG4gIH1cblxuICBhc3luYyBnZXRUcmVuZGluZ1Byb2R1Y3RzKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8UHJvZHVjdFtdPj4ge1xuICAgIHJldHVybiB0aGlzLmdldDxQcm9kdWN0W10+KGVuZHBvaW50cy5wcm9kdWN0cy50cmVuZGluZyk7XG4gIH1cblxuICBhc3luYyBnZXRQcm9kdWN0c0J5Q2F0ZWdvcnkoY2F0ZWdvcnlJZDogc3RyaW5nLCBwYXJhbXM/OiBhbnkpOiBQcm9taXNlPFBhZ2luYXRlZFJlc3BvbnNlPFByb2R1Y3Q+PiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0PFByb2R1Y3RbXT4oZW5kcG9pbnRzLnByb2R1Y3RzLmJ5Q2F0ZWdvcnkoY2F0ZWdvcnlJZCksIHsgcGFyYW1zIH0pO1xuICB9XG5cbiAgLy8gU3dpcGUgbWV0aG9kc1xuICBhc3luYyBjcmVhdGVTd2lwZVNlc3Npb24oZGF0YTogYW55KTogUHJvbWlzZTxBcGlSZXNwb25zZTxTd2lwZVNlc3Npb24+PiB7XG4gICAgcmV0dXJuIHRoaXMucG9zdDxTd2lwZVNlc3Npb24+KGVuZHBvaW50cy5zd2lwZXMuY3JlYXRlU2Vzc2lvbiwgZGF0YSk7XG4gIH1cblxuICBhc3luYyBnZXRDdXJyZW50U3dpcGVTZXNzaW9uKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8U3dpcGVTZXNzaW9uPj4ge1xuICAgIHJldHVybiB0aGlzLmdldDxTd2lwZVNlc3Npb24+KGVuZHBvaW50cy5zd2lwZXMuY3VycmVudFNlc3Npb24pO1xuICB9XG5cbiAgYXN5bmMgcmVjb3JkU3dpcGUoc2Vzc2lvbklkOiBzdHJpbmcsIGRhdGE6IFN3aXBlUmVxdWVzdCk6IFByb21pc2U8QXBpUmVzcG9uc2U8U3dpcGVJbnRlcmFjdGlvbj4+IHtcbiAgICByZXR1cm4gdGhpcy5wb3N0PFN3aXBlSW50ZXJhY3Rpb24+KGVuZHBvaW50cy5zd2lwZXMuaW50ZXJhY3Rpb25zKHNlc3Npb25JZCksIGRhdGEpO1xuICB9XG5cbiAgYXN5bmMgZ2V0U3dpcGVBbmFseXRpY3MoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxhbnk+PiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGVuZHBvaW50cy5zd2lwZXMuYW5hbHl0aWNzKTtcbiAgfVxuXG4gIC8vIFJlY29tbWVuZGF0aW9uIG1ldGhvZHNcbiAgYXN5bmMgZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMoZGF0YTogUmVjb21tZW5kYXRpb25SZXF1ZXN0KTogUHJvbWlzZTxBcGlSZXNwb25zZTxSZWNvbW1lbmRhdGlvblJlc3BvbnNlPj4ge1xuICAgIHJldHVybiB0aGlzLnBvc3Q8UmVjb21tZW5kYXRpb25SZXNwb25zZT4oZW5kcG9pbnRzLnJlY29tbWVuZGF0aW9ucy5nZW5lcmF0ZSwgZGF0YSk7XG4gIH1cblxuICBhc3luYyBnZXRSZWNvbW1lbmRhdGlvbnMocGFyYW1zPzogYW55KTogUHJvbWlzZTxQYWdpbmF0ZWRSZXNwb25zZTxSZWNvbW1lbmRhdGlvbj4+IHtcbiAgICByZXR1cm4gdGhpcy5nZXQ8UmVjb21tZW5kYXRpb25bXT4oZW5kcG9pbnRzLnJlY29tbWVuZGF0aW9ucy5saXN0LCB7IHBhcmFtcyB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldFJlY29tbWVuZGF0aW9uKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFJlY29tbWVuZGF0aW9uPj4ge1xuICAgIHJldHVybiB0aGlzLmdldDxSZWNvbW1lbmRhdGlvbj4oZW5kcG9pbnRzLnJlY29tbWVuZGF0aW9ucy5ieUlkKGlkKSk7XG4gIH1cblxuICBhc3luYyBwcm92aWRlRmVlZGJhY2soaWQ6IHN0cmluZywgZmVlZGJhY2s6IGFueSk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+IHtcbiAgICByZXR1cm4gdGhpcy5wb3N0PHZvaWQ+KGVuZHBvaW50cy5yZWNvbW1lbmRhdGlvbnMuZmVlZGJhY2soaWQpLCBmZWVkYmFjayk7XG4gIH1cblxuICBhc3luYyByZWZyZXNoUmVjb21tZW5kYXRpb25zKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8UmVjb21tZW5kYXRpb25SZXNwb25zZT4+IHtcbiAgICByZXR1cm4gdGhpcy5wb3N0PFJlY29tbWVuZGF0aW9uUmVzcG9uc2U+KGVuZHBvaW50cy5yZWNvbW1lbmRhdGlvbnMucmVmcmVzaCk7XG4gIH1cblxuICAvLyBHaWZ0IExpbmsgbWV0aG9kc1xuICBhc3luYyBjcmVhdGVHaWZ0TGluayhkYXRhOiBDcmVhdGVHaWZ0TGlua1JlcXVlc3QpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEdpZnRMaW5rPj4ge1xuICAgIHJldHVybiB0aGlzLnBvc3Q8R2lmdExpbms+KGVuZHBvaW50cy5naWZ0TGlua3MuY3JlYXRlLCBkYXRhKTtcbiAgfVxuXG4gIGFzeW5jIGdldEdpZnRMaW5rcygpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEdpZnRMaW5rW10+PiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0PEdpZnRMaW5rW10+KGVuZHBvaW50cy5naWZ0TGlua3MubGlzdCk7XG4gIH1cblxuICBhc3luYyBnZXRHaWZ0TGluayhpZDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxHaWZ0TGluaz4+IHtcbiAgICByZXR1cm4gdGhpcy5nZXQ8R2lmdExpbms+KGVuZHBvaW50cy5naWZ0TGlua3MuYnlJZChpZCkpO1xuICB9XG5cbiAgYXN5bmMgZ2V0R2lmdExpbmtCeVRva2VuKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEdpZnRMaW5rPj4ge1xuICAgIHJldHVybiB0aGlzLmdldDxHaWZ0TGluaz4oZW5kcG9pbnRzLmdpZnRMaW5rcy5ieVRva2VuKHRva2VuKSk7XG4gIH1cblxuICBhc3luYyBkZWxldGVHaWZ0TGluayhpZDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTx2b2lkPj4ge1xuICAgIHJldHVybiB0aGlzLmRlbGV0ZTx2b2lkPihlbmRwb2ludHMuZ2lmdExpbmtzLmRlbGV0ZShpZCkpO1xuICB9XG5cbiAgYXN5bmMgZ2V0R2lmdExpbmtBbmFseXRpY3MoaWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8R2lmdExpbmtJbnRlcmFjdGlvbltdPj4ge1xuICAgIHJldHVybiB0aGlzLmdldDxHaWZ0TGlua0ludGVyYWN0aW9uW10+KGVuZHBvaW50cy5naWZ0TGlua3MuYW5hbHl0aWNzKGlkKSk7XG4gIH1cblxuICAvLyBBbmFseXRpY3MgbWV0aG9kc1xuICBhc3luYyB0cmFja0V2ZW50KGV2ZW50OiBBbmFseXRpY3NFdmVudCk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+IHtcbiAgICByZXR1cm4gdGhpcy5wb3N0PHZvaWQ+KGVuZHBvaW50cy5hbmFseXRpY3MudHJhY2ssIGV2ZW50KTtcbiAgfVxuXG4gIGFzeW5jIGdldEFuYWx5dGljc0Rhc2hib2FyZCgpOiBQcm9taXNlPEFwaVJlc3BvbnNlPGFueT4+IHtcbiAgICByZXR1cm4gdGhpcy5nZXQoZW5kcG9pbnRzLmFuYWx5dGljcy5kYXNoYm9hcmQpO1xuICB9XG5cbiAgLy8gSGVhbHRoIGNoZWNrXG4gIGFzeW5jIGhlYWx0aENoZWNrKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8YW55Pj4ge1xuICAgIHJldHVybiB0aGlzLmdldChlbmRwb2ludHMuaGVhbHRoKTtcbiAgfVxufVxuXG4vLyBDcmVhdGUgYW5kIGV4cG9ydCBBUEkgY2xpZW50IGluc3RhbmNlXG5leHBvcnQgY29uc3QgYXBpQ2xpZW50ID0gbmV3IEFwaUNsaWVudCgpO1xuXG4vLyBFeHBvcnQgdG9rZW4gbWFuYWdlciBmb3IgZXh0ZXJuYWwgdXNlXG5leHBvcnQgY29uc3QgdG9rZW5NYW5hZ2VyID0gVG9rZW5NYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbi8vIEV4cG9ydCBjb252ZW5pZW5jZSBtZXRob2RzXG5leHBvcnQgY29uc3QgYXBpID0ge1xuICAvLyBBdXRoXG4gIGxvZ2luOiAoZGF0YTogTG9naW5SZXF1ZXN0KSA9PiBhcGlDbGllbnQubG9naW4oZGF0YSksXG4gIHJlZ2lzdGVyOiAoZGF0YTogUmVnaXN0ZXJSZXF1ZXN0KSA9PiBhcGlDbGllbnQucmVnaXN0ZXIoZGF0YSksXG4gIGxvZ291dDogKCkgPT4gYXBpQ2xpZW50LmxvZ291dCgpLFxuICBnZXRDdXJyZW50VXNlcjogKCkgPT4gYXBpQ2xpZW50LmdldEN1cnJlbnRVc2VyKCksXG4gIFxuICAvLyBVc2Vyc1xuICBnZXRVc2VyU3RhdGlzdGljczogKCkgPT4gYXBpQ2xpZW50LmdldFVzZXJTdGF0aXN0aWNzKCksXG4gIFxuICAvLyBQcm9kdWN0c1xuICBnZXRQcm9kdWN0czogKHBhcmFtcz86IGFueSkgPT4gYXBpQ2xpZW50LmdldFByb2R1Y3RzKHBhcmFtcyksXG4gIHNlYXJjaFByb2R1Y3RzOiAocXVlcnk6IFNlYXJjaFF1ZXJ5KSA9PiBhcGlDbGllbnQuc2VhcmNoUHJvZHVjdHMocXVlcnkpLFxuICBnZXRQcm9kdWN0OiAoaWQ6IHN0cmluZykgPT4gYXBpQ2xpZW50LmdldFByb2R1Y3QoaWQpLFxuICBnZXRDYXRlZ29yaWVzOiAoKSA9PiBhcGlDbGllbnQuZ2V0Q2F0ZWdvcmllcygpLFxuICBcbiAgLy8gU3dpcGVzXG4gIGNyZWF0ZVN3aXBlU2Vzc2lvbjogKGRhdGE6IGFueSkgPT4gYXBpQ2xpZW50LmNyZWF0ZVN3aXBlU2Vzc2lvbihkYXRhKSxcbiAgcmVjb3JkU3dpcGU6IChzZXNzaW9uSWQ6IHN0cmluZywgZGF0YTogU3dpcGVSZXF1ZXN0KSA9PiBhcGlDbGllbnQucmVjb3JkU3dpcGUoc2Vzc2lvbklkLCBkYXRhKSxcbiAgXG4gIC8vIFJlY29tbWVuZGF0aW9uc1xuICBnZW5lcmF0ZVJlY29tbWVuZGF0aW9uczogKGRhdGE6IFJlY29tbWVuZGF0aW9uUmVxdWVzdCkgPT4gYXBpQ2xpZW50LmdlbmVyYXRlUmVjb21tZW5kYXRpb25zKGRhdGEpLFxuICBnZXRSZWNvbW1lbmRhdGlvbnM6IChwYXJhbXM/OiBhbnkpID0+IGFwaUNsaWVudC5nZXRSZWNvbW1lbmRhdGlvbnMocGFyYW1zKSxcbiAgXG4gIC8vIEdpZnQgTGlua3NcbiAgY3JlYXRlR2lmdExpbms6IChkYXRhOiBDcmVhdGVHaWZ0TGlua1JlcXVlc3QpID0+IGFwaUNsaWVudC5jcmVhdGVHaWZ0TGluayhkYXRhKSxcbiAgZ2V0R2lmdExpbmtzOiAoKSA9PiBhcGlDbGllbnQuZ2V0R2lmdExpbmtzKCksXG4gIGdldEdpZnRMaW5rQnlUb2tlbjogKHRva2VuOiBzdHJpbmcpID0+IGFwaUNsaWVudC5nZXRHaWZ0TGlua0J5VG9rZW4odG9rZW4pLFxuICBcbiAgLy8gQW5hbHl0aWNzXG4gIHRyYWNrRXZlbnQ6IChldmVudDogQW5hbHl0aWNzRXZlbnQpID0+IGFwaUNsaWVudC50cmFja0V2ZW50KGV2ZW50KSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFwaUNsaWVudDsiXSwibmFtZXMiOlsiYXBpIiwiYXBpQ2xpZW50IiwidG9rZW5NYW5hZ2VyIiwiVG9rZW5NYW5hZ2VyIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsImluaXRpYWxpemVGcm9tU3RvcmFnZSIsIndpbmRvdyIsImFjY2Vzc1Rva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFwcENvbmZpZyIsInN0b3JhZ2UiLCJhdXRoVG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJzZXRUb2tlbnMiLCJzZXRJdGVtIiwiZ2V0QWNjZXNzVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJjbGVhclRva2VucyIsInJlbW92ZUl0ZW0iLCJ1c2VyIiwiQXBpQ2xpZW50IiwiY29uc3RydWN0b3IiLCJpc1JlZnJlc2hpbmciLCJmYWlsZWRRdWV1ZSIsImNsaWVudCIsImF4aW9zIiwiY3JlYXRlIiwiYmFzZVVSTCIsImNvbmZpZyIsImFwaVVybCIsInRpbWVvdXQiLCJoZWFkZXJzIiwic2V0dXBJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwidG9rZW4iLCJBdXRob3JpemF0aW9uIiwiZXJyb3IiLCJQcm9taXNlIiwicmVqZWN0IiwicmVzcG9uc2UiLCJvcmlnaW5hbFJlcXVlc3QiLCJzdGF0dXMiLCJfcmV0cnkiLCJyZXNvbHZlIiwicHVzaCIsInRoZW4iLCJjYXRjaCIsImVyciIsIkVycm9yIiwicmVmcmVzaEFjY2Vzc1Rva2VuIiwicmVmcmVzaF90b2tlbiIsImFjY2Vzc190b2tlbiIsIm5ld1JlZnJlc2hUb2tlbiIsImRhdGEiLCJwcm9jZXNzUXVldWUiLCJyZWZyZXNoRXJyb3IiLCJsb2NhdGlvbiIsImhyZWYiLCJoYW5kbGVFcnJvciIsImZvckVhY2giLCJhcGlFcnJvciIsIm1lc3NhZ2UiLCJlcnJvcnMiLCJ1bmtub3duIiwiY29kZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImdldEVycm9yTWVzc2FnZUJ5U3RhdHVzIiwiZGV0YWlscyIsIm5ldHdvcmsiLCJ2YWxpZGF0aW9uIiwidW5hdXRob3JpemVkIiwiZm9yYmlkZGVuIiwibm90Rm91bmQiLCJzZXJ2ZXIiLCJnZXQiLCJ1cmwiLCJoYXNPd25Qcm9wZXJ0eSIsInN1Y2Nlc3MiLCJwb3N0IiwicHV0IiwicGF0Y2giLCJkZWxldGUiLCJsb2dpbiIsImVuZHBvaW50cyIsImF1dGgiLCJyZWdpc3RlciIsInJlZnJlc2giLCJsb2dvdXQiLCJnZXRDdXJyZW50VXNlciIsIm1lIiwiZm9yZ290UGFzc3dvcmQiLCJlbWFpbCIsInJlc2V0UGFzc3dvcmQiLCJwYXNzd29yZCIsInZlcmlmeUVtYWlsIiwidXBkYXRlUHJvZmlsZSIsInVzZXJzIiwiZ2V0VXNlclByZWZlcmVuY2VzIiwicHJlZmVyZW5jZXMiLCJ1cGRhdGVVc2VyUHJlZmVyZW5jZXMiLCJnZXRVc2VyU3RhdGlzdGljcyIsInN0YXRpc3RpY3MiLCJkZWxldGVBY2NvdW50IiwiZ2V0UHJvZHVjdHMiLCJwYXJhbXMiLCJwcm9kdWN0cyIsImxpc3QiLCJzZWFyY2hQcm9kdWN0cyIsInF1ZXJ5Iiwic2VhcmNoIiwiZ2V0UHJvZHVjdCIsImlkIiwiYnlJZCIsImdldENhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZ2V0RmVhdHVyZWRQcm9kdWN0cyIsImZlYXR1cmVkIiwiZ2V0VHJlbmRpbmdQcm9kdWN0cyIsInRyZW5kaW5nIiwiZ2V0UHJvZHVjdHNCeUNhdGVnb3J5IiwiY2F0ZWdvcnlJZCIsImJ5Q2F0ZWdvcnkiLCJjcmVhdGVTd2lwZVNlc3Npb24iLCJzd2lwZXMiLCJjcmVhdGVTZXNzaW9uIiwiZ2V0Q3VycmVudFN3aXBlU2Vzc2lvbiIsImN1cnJlbnRTZXNzaW9uIiwicmVjb3JkU3dpcGUiLCJzZXNzaW9uSWQiLCJpbnRlcmFjdGlvbnMiLCJnZXRTd2lwZUFuYWx5dGljcyIsImFuYWx5dGljcyIsImdlbmVyYXRlUmVjb21tZW5kYXRpb25zIiwicmVjb21tZW5kYXRpb25zIiwiZ2VuZXJhdGUiLCJnZXRSZWNvbW1lbmRhdGlvbnMiLCJnZXRSZWNvbW1lbmRhdGlvbiIsInByb3ZpZGVGZWVkYmFjayIsImZlZWRiYWNrIiwicmVmcmVzaFJlY29tbWVuZGF0aW9ucyIsImNyZWF0ZUdpZnRMaW5rIiwiZ2lmdExpbmtzIiwiZ2V0R2lmdExpbmtzIiwiZ2V0R2lmdExpbmsiLCJnZXRHaWZ0TGlua0J5VG9rZW4iLCJieVRva2VuIiwiZGVsZXRlR2lmdExpbmsiLCJnZXRHaWZ0TGlua0FuYWx5dGljcyIsInRyYWNrRXZlbnQiLCJldmVudCIsInRyYWNrIiwiZ2V0QW5hbHl0aWNzRGFzaGJvYXJkIiwiZGFzaGJvYXJkIiwiaGVhbHRoQ2hlY2siLCJoZWFsdGgiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXVCQyxHQUVELGlGQUFpRjtBQUNqRiwyQkFBMkI7QUFDM0IsaUZBQWlGOzs7Ozs7Ozs7Ozs7SUE0bkJwRUEsR0FBRztlQUFIQTs7SUFOQUMsU0FBUztlQUFUQTs7SUF1Q2IsT0FBeUI7ZUFBekI7O0lBcENhQyxZQUFZO2VBQVpBOzs7OERBdm5CMkQ7d0JBQzNCOzs7Ozs7QUEwQjdDLGlGQUFpRjtBQUNqRixtQkFBbUI7QUFDbkIsaUZBQWlGO0FBQ2pGLDhEQUE4RDtBQUU5RDs7Ozs7Ozs7Ozs7Ozs7O0NBZUMsR0FDRCxNQUFNQztJQUtKOzs7Ozs7OztHQVFDLEdBQ0QsT0FBT0MsY0FBNEI7UUFDakMsSUFBSSxDQUFDRCxhQUFhRSxRQUFRLEVBQUU7WUFDMUJGLGFBQWFFLFFBQVEsR0FBRyxJQUFJRjtZQUM1Qix3REFBd0Q7WUFDeERBLGFBQWFFLFFBQVEsQ0FBQ0MscUJBQXFCO1FBQzdDO1FBQ0EsT0FBT0gsYUFBYUUsUUFBUTtJQUM5QjtJQUVBOzs7Ozs7O0dBT0MsR0FDRCxBQUFRQyx3QkFBOEI7UUFDcEMsSUFBSSxPQUFPQyxXQUFXLGFBQWE7WUFDakMsSUFBSSxDQUFDQyxXQUFXLEdBQUdDLGFBQWFDLE9BQU8sQ0FBQ0MsaUJBQVMsQ0FBQ0MsT0FBTyxDQUFDQyxTQUFTO1lBQ25FLElBQUksQ0FBQ0MsWUFBWSxHQUFHTCxhQUFhQyxPQUFPLENBQUNDLGlCQUFTLENBQUNDLE9BQU8sQ0FB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