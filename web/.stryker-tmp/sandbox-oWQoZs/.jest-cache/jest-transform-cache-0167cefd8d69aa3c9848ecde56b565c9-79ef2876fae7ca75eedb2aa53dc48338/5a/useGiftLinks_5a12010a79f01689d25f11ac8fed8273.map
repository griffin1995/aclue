{"version":3,"names":["cov_2i1zk0uqb1","actualCoverage","s","useGiftLinks","f","giftLinks","setGiftLinks","_react","useState","isLoading","setIsLoading","error","setError","createGiftLink","useCallback","data","response","_api","api","create","newGiftLink","giftLink","prev","err","errorMessage","Error","b","message","updateGiftLink","id","update","updatedGiftLink","map","link","deleteGiftLink","delete","filter","getGiftLink","token","getByToken","loadUserGiftLinks","getUserGiftLinks","getShareUrl","baseUrl","process","env","NEXT_PUBLIC_WEB_URL","shareGiftLink","options","shareUrl","defaultMessage","title","platform","window","open","encodeURIComponent","hashtags","join","subject","body","navigator","clipboard","writeText","trackAnalytics","generateQRCode","fetch","ok","blob","URL","createObjectURL","event","timestamp","Date","console","warn"],"sources":["/home/jack/Documents/aclue-preprod/web/src/hooks/useGiftLinks.ts"],"sourcesContent":["import { useState, useCallback } from 'react';\nimport { api } from '@/lib/api';\n\nexport interface GiftLink {\n  id: string;\n  token: string;\n  title: string;\n  description: string;\n  userId: string;\n  products: Product[];\n  preferences: any;\n  isPublic: boolean;\n  expiresAt?: Date;\n  createdAt: Date;\n  updatedAt: Date;\n  analytics: {\n    views: number;\n    clicks: number;\n    shares: number;\n    conversions: number;\n  };\n  customization: {\n    theme: 'default' | 'minimal' | 'festive' | 'elegant';\n    backgroundColor: string;\n    accentColor: string;\n    showBranding: boolean;\n  };\n}\n\nexport interface Product {\n  id: string;\n  name: string;\n  description: string;\n  price: number;\n  currency: string;\n  imageUrl: string;\n  affiliateUrl: string;\n  brand: string;\n  category: string;\n  rating?: number;\n  reviewCount?: number;\n}\n\nexport interface CreateGiftLinkRequest {\n  title: string;\n  description?: string;\n  product_ids: string[];\n  preferences?: any;\n  isPublic?: boolean;\n  expiresAt?: Date;\n  customization?: Partial<GiftLink['customization']>;\n}\n\nexport interface ShareOptions {\n  platform: 'facebook' | 'twitter' | 'linkedin' | 'whatsapp' | 'email' | 'copy' | 'qr';\n  message?: string;\n  hashtags?: string[];\n}\n\ninterface UseGiftLinksReturn {\n  giftLinks: GiftLink[];\n  isLoading: boolean;\n  error: string | null;\n  createGiftLink: (data: CreateGiftLinkRequest) => Promise<GiftLink>;\n  updateGiftLink: (id: string, data: Partial<GiftLink>) => Promise<GiftLink>;\n  deleteGiftLink: (id: string) => Promise<void>;\n  getGiftLink: (token: string) => Promise<GiftLink>;\n  shareGiftLink: (giftLink: GiftLink, options: ShareOptions) => Promise<void>;\n  generateQRCode: (giftLink: GiftLink) => Promise<string>;\n  trackAnalytics: (token: string, event: 'view' | 'click' | 'share' | 'conversion') => Promise<void>;\n  getShareUrl: (giftLink: GiftLink) => string;\n  loadUserGiftLinks: () => Promise<void>;\n}\n\nexport function useGiftLinks(): UseGiftLinksReturn {\n  const [giftLinks, setGiftLinks] = useState<GiftLink[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const createGiftLink = useCallback(async (data: CreateGiftLinkRequest): Promise<GiftLink> => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await api.giftLinks.create(data);\n      const newGiftLink = response.giftLink;\n      \n      setGiftLinks(prev => [newGiftLink, ...prev]);\n      return newGiftLink;\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to create gift link';\n      setError(errorMessage);\n      throw new Error(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const updateGiftLink = useCallback(async (id: string, data: Partial<GiftLink>): Promise<GiftLink> => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await api.giftLinks.update(id, data);\n      const updatedGiftLink = response.giftLink;\n      \n      setGiftLinks(prev =>\n        prev.map(link => link.id === id ? updatedGiftLink : link)\n      );\n      \n      return updatedGiftLink;\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to update gift link';\n      setError(errorMessage);\n      throw new Error(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const deleteGiftLink = useCallback(async (id: string): Promise<void> => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      await api.giftLinks.delete(id);\n      setGiftLinks(prev => prev.filter(link => link.id !== id));\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to delete gift link';\n      setError(errorMessage);\n      throw new Error(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const getGiftLink = useCallback(async (token: string): Promise<GiftLink> => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await api.giftLinks.getByToken(token);\n      return response.giftLink;\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load gift link';\n      setError(errorMessage);\n      throw new Error(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const loadUserGiftLinks = useCallback(async (): Promise<void> => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await api.giftLinks.getUserGiftLinks();\n      setGiftLinks(response.giftLinks);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load gift links';\n      setError(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const getShareUrl = useCallback((giftLink: GiftLink): string => {\n    const baseUrl = process.env.NEXT_PUBLIC_WEB_URL || 'https://aclue.app';\n    return `${baseUrl}/gift/${giftLink.token}`;\n  }, []);\n\n  const shareGiftLink = useCallback(async (giftLink: GiftLink, options: ShareOptions): Promise<void> => {\n    const shareUrl = getShareUrl(giftLink);\n    const defaultMessage = `Check out these amazing gift recommendations I found on aclue: ${giftLink.title}`;\n    const message = options.message || defaultMessage;\n\n    try {\n      switch (options.platform) {\n        case 'facebook':\n          window.open(\n            `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}&quote=${encodeURIComponent(message)}`,\n            '_blank',\n            'width=600,height=400'\n          );\n          break;\n\n        case 'twitter':\n          const hashtags = options.hashtags ? `&hashtags=${options.hashtags.join(',')}` : '';\n          window.open(\n            `https://twitter.com/intent/tweet?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(message)}${hashtags}`,\n            '_blank',\n            'width=600,height=400'\n          );\n          break;\n\n        case 'linkedin':\n          window.open(\n            `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`,\n            '_blank',\n            'width=600,height=400'\n          );\n          break;\n\n        case 'whatsapp':\n          window.open(\n            `https://wa.me/?text=${encodeURIComponent(`${message} ${shareUrl}`)}`,\n            '_blank'\n          );\n          break;\n\n        case 'email':\n          const subject = encodeURIComponent(giftLink.title);\n          const body = encodeURIComponent(`${message}\\n\\n${shareUrl}`);\n          window.open(`mailto:?subject=${subject}&body=${body}`);\n          break;\n\n        case 'copy':\n          await navigator.clipboard.writeText(shareUrl);\n          break;\n\n        case 'qr':\n          // QR code sharing handled separately\n          break;\n\n        default:\n          throw new Error(`Unsupported platform: ${options.platform}`);\n      }\n\n      // Track share analytics\n      await trackAnalytics(giftLink.token, 'share');\n    } catch (err) {\n      throw new Error(`Failed to share on ${options.platform}: ${err instanceof Error ? err.message : 'Unknown error'}`);\n    }\n  }, [getShareUrl]);\n\n  const generateQRCode = useCallback(async (giftLink: GiftLink): Promise<string> => {\n    const shareUrl = getShareUrl(giftLink);\n    \n    try {\n      // Use a QR code generation service or library\n      const response = await fetch(`/api/qr-code?url=${encodeURIComponent(shareUrl)}`);\n      if (!response.ok) {\n        throw new Error('Failed to generate QR code');\n      }\n      \n      const blob = await response.blob();\n      return URL.createObjectURL(blob);\n    } catch (err) {\n      throw new Error(`Failed to generate QR code: ${err instanceof Error ? err.message : 'Unknown error'}`);\n    }\n  }, [getShareUrl]);\n\n  const trackAnalytics = useCallback(async (token: string, event: 'view' | 'click' | 'share' | 'conversion'): Promise<void> => {\n    try {\n      await api.giftLinks.trackAnalytics(token, { event, timestamp: new Date() });\n    } catch (err) {\n      // Silently fail analytics tracking\n      console.warn('Failed to track analytics:', err);\n    }\n  }, []);\n\n  return {\n    giftLinks,\n    isLoading,\n    error,\n    createGiftLink,\n    updateGiftLink,\n    deleteGiftLink,\n    getGiftLink,\n    shareGiftLink,\n    generateQRCode,\n    trackAnalytics,\n    getShareUrl,\n    loadUserGiftLinks,\n  };\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}