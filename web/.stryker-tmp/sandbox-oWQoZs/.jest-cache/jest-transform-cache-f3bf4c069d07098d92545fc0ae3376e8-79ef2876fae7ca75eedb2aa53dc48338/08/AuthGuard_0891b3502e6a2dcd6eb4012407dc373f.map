{"version":3,"sources":["/home/jack/Documents/aclue-preprod/web/.stryker-tmp/sandbox-oWQoZs/src/components/auth/AuthGuard.tsx"],"sourcesContent":["/**\n * aclue Authentication Guard Component\n * \n * Provides route-level authentication and authorization for the aclue application.\n * Handles protected routes, authentication redirects, and loading states during\n * authentication checks. Ensures secure access to user-specific features.\n * \n * Key Features:\n *   - Automatic authentication checking on route changes\n *   - Protected route enforcement with redirect logic\n *   - Public route access for unauthenticated users\n *   - Authentication route handling (prevent double login)\n *   - Loading states during authentication verification\n *   - JWT token validation and refresh\n * \n * Security Features:\n *   - Server-side authentication validation\n *   - Secure token storage and management\n *   - Session timeout handling\n *   - Unauthorized access prevention\n *   - Seamless login/logout flow\n * \n * Route Categories:\n *   - Protected: Require valid authentication\n *   - Auth: Login/register pages (redirect if logged in)\n *   - Public: Accessible without authentication\n * \n * Usage:\n *   <AuthGuard>\n *     <YourProtectedComponent />\n *   </AuthGuard>\n * \n * Integration:\n *   - Works with AuthContext for global auth state\n *   - Uses Next.js router for navigation\n *   - Coordinates with PageLoader for UX\n */\n// @ts-nocheck\nfunction stryNS_9fa48() {\n  var g = typeof globalThis === 'object' && globalThis && globalThis.Math === Math && globalThis || new Function(\"return this\")();\n  var ns = g.__stryker__ || (g.__stryker__ = {});\n  if (ns.activeMutant === undefined && g.process && g.process.env && g.process.env.__STRYKER_ACTIVE_MUTANT__) {\n    ns.activeMutant = g.process.env.__STRYKER_ACTIVE_MUTANT__;\n  }\n  function retrieveNS() {\n    return ns;\n  }\n  stryNS_9fa48 = retrieveNS;\n  return retrieveNS();\n}\nstryNS_9fa48();\nfunction stryCov_9fa48() {\n  var ns = stryNS_9fa48();\n  var cov = ns.mutantCoverage || (ns.mutantCoverage = {\n    static: {},\n    perTest: {}\n  });\n  function cover() {\n    var c = cov.static;\n    if (ns.currentTestId) {\n      c = cov.perTest[ns.currentTestId] = cov.perTest[ns.currentTestId] || {};\n    }\n    var a = arguments;\n    for (var i = 0; i < a.length; i++) {\n      c[a[i]] = (c[a[i]] || 0) + 1;\n    }\n  }\n  stryCov_9fa48 = cover;\n  cover.apply(null, arguments);\n}\nfunction stryMutAct_9fa48(id) {\n  var ns = stryNS_9fa48();\n  function isActive(id) {\n    if (ns.activeMutant === id) {\n      if (ns.hitCount !== void 0 && ++ns.hitCount > ns.hitLimit) {\n        throw new Error('Stryker: Hit count limit reached (' + ns.hitCount + ')');\n      }\n      return true;\n    }\n    return false;\n  }\n  stryMutAct_9fa48 = isActive;\n  return isActive(id);\n}\nimport React, { ReactNode, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { useAuth } from '@/context/AuthContext';\nimport { PageLoader } from '@/components/ui/PageLoader';\n\n/**\n * Props interface for AuthGuard component.\n * \n * @param children - React components to render if authentication check passes\n */\ninterface AuthGuardProps {\n  children: ReactNode;\n}\n\n// Routes that require authentication\nconst PROTECTED_ROUTES = stryMutAct_9fa48(\"3049\") ? [] : (stryCov_9fa48(\"3049\"), [stryMutAct_9fa48(\"3050\") ? \"\" : (stryCov_9fa48(\"3050\"), '/dashboard'), stryMutAct_9fa48(\"3051\") ? \"\" : (stryCov_9fa48(\"3051\"), '/profile'), stryMutAct_9fa48(\"3052\") ? \"\" : (stryCov_9fa48(\"3052\"), '/settings'), stryMutAct_9fa48(\"3053\") ? \"\" : (stryCov_9fa48(\"3053\"), '/recommendations'), stryMutAct_9fa48(\"3054\") ? \"\" : (stryCov_9fa48(\"3054\"), '/gift-links'), stryMutAct_9fa48(\"3055\") ? \"\" : (stryCov_9fa48(\"3055\"), '/onboarding')]);\n\n// Routes that should redirect authenticated users\nconst AUTH_ROUTES = stryMutAct_9fa48(\"3056\") ? [] : (stryCov_9fa48(\"3056\"), [stryMutAct_9fa48(\"3057\") ? \"\" : (stryCov_9fa48(\"3057\"), '/auth/login'), stryMutAct_9fa48(\"3058\") ? \"\" : (stryCov_9fa48(\"3058\"), '/auth/register'), stryMutAct_9fa48(\"3059\") ? \"\" : (stryCov_9fa48(\"3059\"), '/auth/forgot-password'), stryMutAct_9fa48(\"3060\") ? \"\" : (stryCov_9fa48(\"3060\"), '/auth/reset-password')]);\n\n// Public routes that don't require any auth logic\n// const PUBLIC_ROUTES = [\n//   '/',\n//   '/about',\n//   '/contact',\n//   '/privacy',\n//   '/terms',\n//   '/pricing',\n//   '/404',\n// ];\n\nexport const AuthGuard: React.FC<AuthGuardProps> = ({\n  children\n}) => {\n  if (stryMutAct_9fa48(\"3061\")) {\n    {}\n  } else {\n    stryCov_9fa48(\"3061\");\n    const {\n      isAuthenticated,\n      isInitialized,\n      isLoading,\n      isLoggingOut\n    } = useAuth();\n    const router = useRouter();\n    const currentPath = stryMutAct_9fa48(\"3064\") ? router.asPath?.split('?')[0] && '/' : stryMutAct_9fa48(\"3063\") ? false : stryMutAct_9fa48(\"3062\") ? true : (stryCov_9fa48(\"3062\", \"3063\", \"3064\"), (stryMutAct_9fa48(\"3065\") ? router.asPath.split('?')[0] : (stryCov_9fa48(\"3065\"), router.asPath?.split(stryMutAct_9fa48(\"3066\") ? \"\" : (stryCov_9fa48(\"3066\"), '?'))[0])) || (stryMutAct_9fa48(\"3067\") ? \"\" : (stryCov_9fa48(\"3067\"), '/'))); // Remove query params\n\n    useEffect(() => {\n      if (stryMutAct_9fa48(\"3068\")) {\n        {}\n      } else {\n        stryCov_9fa48(\"3068\");\n        if (stryMutAct_9fa48(\"3071\") ? false : stryMutAct_9fa48(\"3070\") ? true : stryMutAct_9fa48(\"3069\") ? isInitialized : (stryCov_9fa48(\"3069\", \"3070\", \"3071\"), !isInitialized)) return;\n\n        // Don't redirect during logout process\n        if (stryMutAct_9fa48(\"3073\") ? false : stryMutAct_9fa48(\"3072\") ? true : (stryCov_9fa48(\"3072\", \"3073\"), isLoggingOut)) return;\n        const isProtectedRoute = stryMutAct_9fa48(\"3074\") ? PROTECTED_ROUTES.every(route => currentPath.startsWith(route)) : (stryCov_9fa48(\"3074\"), PROTECTED_ROUTES.some(stryMutAct_9fa48(\"3075\") ? () => undefined : (stryCov_9fa48(\"3075\"), route => stryMutAct_9fa48(\"3076\") ? currentPath.endsWith(route) : (stryCov_9fa48(\"3076\"), currentPath.startsWith(route)))));\n        const isAuthRoute = stryMutAct_9fa48(\"3077\") ? AUTH_ROUTES.every(route => currentPath.startsWith(route)) : (stryCov_9fa48(\"3077\"), AUTH_ROUTES.some(stryMutAct_9fa48(\"3078\") ? () => undefined : (stryCov_9fa48(\"3078\"), route => stryMutAct_9fa48(\"3079\") ? currentPath.endsWith(route) : (stryCov_9fa48(\"3079\"), currentPath.startsWith(route)))));\n\n        // Redirect unauthenticated users from protected routes\n        if (stryMutAct_9fa48(\"3082\") ? isProtectedRoute || !isAuthenticated : stryMutAct_9fa48(\"3081\") ? false : stryMutAct_9fa48(\"3080\") ? true : (stryCov_9fa48(\"3080\", \"3081\", \"3082\"), isProtectedRoute && (stryMutAct_9fa48(\"3083\") ? isAuthenticated : (stryCov_9fa48(\"3083\"), !isAuthenticated)))) {\n          if (stryMutAct_9fa48(\"3084\")) {\n            {}\n          } else {\n            stryCov_9fa48(\"3084\");\n            const redirectUrl = stryMutAct_9fa48(\"3085\") ? `` : (stryCov_9fa48(\"3085\"), `/auth/login?redirect=${encodeURIComponent(currentPath)}`);\n            router.replace(redirectUrl);\n            return;\n          }\n        }\n\n        // Redirect authenticated users from auth routes\n        if (stryMutAct_9fa48(\"3088\") ? isAuthRoute || isAuthenticated : stryMutAct_9fa48(\"3087\") ? false : stryMutAct_9fa48(\"3086\") ? true : (stryCov_9fa48(\"3086\", \"3087\", \"3088\"), isAuthRoute && isAuthenticated)) {\n          if (stryMutAct_9fa48(\"3089\")) {\n            {}\n          } else {\n            stryCov_9fa48(\"3089\");\n            const redirectTo = stryMutAct_9fa48(\"3092\") ? router.query['redirect'] as string && '/dashboard' : stryMutAct_9fa48(\"3091\") ? false : stryMutAct_9fa48(\"3090\") ? true : (stryCov_9fa48(\"3090\", \"3091\", \"3092\"), router.query['redirect'] as string || (stryMutAct_9fa48(\"3093\") ? \"\" : (stryCov_9fa48(\"3093\"), '/dashboard')));\n            router.replace(redirectTo);\n            return;\n          }\n        }\n      }\n    }, stryMutAct_9fa48(\"3094\") ? [] : (stryCov_9fa48(\"3094\"), [isAuthenticated, isInitialized, isLoggingOut, currentPath, router]));\n\n    // Show loading state while initializing or during redirects\n    if (stryMutAct_9fa48(\"3097\") ? !isInitialized && isLoading : stryMutAct_9fa48(\"3096\") ? false : stryMutAct_9fa48(\"3095\") ? true : (stryCov_9fa48(\"3095\", \"3096\", \"3097\"), (stryMutAct_9fa48(\"3098\") ? isInitialized : (stryCov_9fa48(\"3098\"), !isInitialized)) || isLoading)) {\n      if (stryMutAct_9fa48(\"3099\")) {\n        {}\n      } else {\n        stryCov_9fa48(\"3099\");\n        return <PageLoader text=\"Loading aclue...\" />;\n      }\n    }\n\n    // Show loading for protected routes while unauthenticated (redirect happening)\n    const isProtectedRoute = stryMutAct_9fa48(\"3100\") ? PROTECTED_ROUTES.every(route => currentPath.startsWith(route)) : (stryCov_9fa48(\"3100\"), PROTECTED_ROUTES.some(stryMutAct_9fa48(\"3101\") ? () => undefined : (stryCov_9fa48(\"3101\"), route => stryMutAct_9fa48(\"3102\") ? currentPath.endsWith(route) : (stryCov_9fa48(\"3102\"), currentPath.startsWith(route)))));\n    if (stryMutAct_9fa48(\"3105\") ? isProtectedRoute || !isAuthenticated : stryMutAct_9fa48(\"3104\") ? false : stryMutAct_9fa48(\"3103\") ? true : (stryCov_9fa48(\"3103\", \"3104\", \"3105\"), isProtectedRoute && (stryMutAct_9fa48(\"3106\") ? isAuthenticated : (stryCov_9fa48(\"3106\"), !isAuthenticated)))) {\n      if (stryMutAct_9fa48(\"3107\")) {\n        {}\n      } else {\n        stryCov_9fa48(\"3107\");\n        return <PageLoader text=\"Redirecting to login...\" />;\n      }\n    }\n\n    // Show loading for auth routes while authenticated (redirect happening)\n    const isAuthRoute = stryMutAct_9fa48(\"3108\") ? AUTH_ROUTES.every(route => currentPath.startsWith(route)) : (stryCov_9fa48(\"3108\"), AUTH_ROUTES.some(stryMutAct_9fa48(\"3109\") ? () => undefined : (stryCov_9fa48(\"3109\"), route => stryMutAct_9fa48(\"3110\") ? currentPath.endsWith(route) : (stryCov_9fa48(\"3110\"), currentPath.startsWith(route)))));\n    if (stryMutAct_9fa48(\"3113\") ? isAuthRoute || isAuthenticated : stryMutAct_9fa48(\"3112\") ? false : stryMutAct_9fa48(\"3111\") ? true : (stryCov_9fa48(\"3111\", \"3112\", \"3113\"), isAuthRoute && isAuthenticated)) {\n      if (stryMutAct_9fa48(\"3114\")) {\n        {}\n      } else {\n        stryCov_9fa48(\"3114\");\n        return <PageLoader text=\"Redirecting to dashboard...\" />;\n      }\n    }\n    return <>{children}</>;\n  }\n};\nexport default AuthGuard;"],"names":["AuthGuard","stryNS_9fa48","g","globalThis","Math","Function","ns","__stryker__","activeMutant","undefined","process","env","__STRYKER_ACTIVE_MUTANT__","retrieveNS","stryCov_9fa48","cov","mutantCoverage","static","perTest","cover","c","currentTestId","a","arguments","i","length","apply","stryMutAct_9fa48","id","isActive","hitCount","hitLimit","Error","PROTECTED_ROUTES","AUTH_ROUTES","children","isAuthenticated","isInitialized","isLoading","isLoggingOut","useAuth","router","useRouter","currentPath","asPath","split","useEffect","isProtectedRoute","every","route","startsWith","some","endsWith","isAuthRoute","redirectUrl","encodeURIComponent","replace","redirectTo","query","PageLoader","text"],"mappings":"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"}